#include <string>

#ifdef GOOOGLE_CITY_HASH // Required revision https://github.com/google/cityhash/tree/00b9287e8c1255b5922ef90e304d5287361b2c2a or earlier
    #include "city.h"
#else
    #include <util/digest/city.h>
#endif

#include <cstdio>
#include <vector>
#include <unordered_map>
#include <cassert>

typedef unsigned long long int TCatboostCPPExportModelCtrBaseHash;

enum class ECatboostCPPExportModelCtrType {
    Borders,
    Buckets,
    BinarizedTargetMeanValue,
    FloatTargetMeanValue,
    Counter,
    FeatureFreq,
    CtrTypesCount
};

struct TCatboostCPPExportModelCtr {
    TCatboostCPPExportModelCtrBaseHash BaseHash;
    ECatboostCPPExportModelCtrType BaseCtrType;
    int TargetBorderIdx = 0;
    float PriorNum = 0.0f;
    float PriorDenom = 1.0f;
    float Shift = 0.0f;
    float Scale = 1.0f;

    inline float Calc(float countInClass, float totalCount) const {
        float ctr = (countInClass + PriorNum) / (totalCount + PriorDenom);
        return (ctr + Shift) * Scale;
    }
};

struct TCatboostCPPExportFloatSplit {
    int FloatFeature = 0;
    float Split = 0.f;
};

struct TCatboostCPPExportOneHotSplit {
    int CatFeatureIdx = 0;
    int Value = 0;
};

struct TCatboostCPPExportBinFeatureIndexValue {
    unsigned int BinIndex = 0;
    bool CheckValueEqual = 0;
    unsigned char Value = 0;
};

struct TCatboostCPPExportCtrMeanHistory {
    float Sum;
    int Count;
};

struct TCatboostCPPExportCtrValueTable {
    std::unordered_map<TCatboostCPPExportModelCtrBaseHash, unsigned int> IndexHashViewer;
    int TargetClassesCount;
    int CounterDenominator;
    std::vector<TCatboostCPPExportCtrMeanHistory> CtrMeanHistory;
    std::vector<int> CtrTotal;
    const unsigned int* ResolveHashIndex(TCatboostCPPExportModelCtrBaseHash hash) const {
        auto search = IndexHashViewer.find(hash);
        if (search == IndexHashViewer.end()) {
            return NULL;
        }
        return &search->second;
    }
};

struct TCatboostCPPExportCtrData {
    std::unordered_map<TCatboostCPPExportModelCtrBaseHash, TCatboostCPPExportCtrValueTable> LearnCtrs;
};

struct TCatboostCPPExportCompressedModelCtr {
    struct TCatboostCPPExportProjection {
        std::vector<int> transposedCatFeatureIndexes;
        std::vector<TCatboostCPPExportBinFeatureIndexValue> binarizedIndexes;
    } Projection;
    std::vector<TCatboostCPPExportModelCtr> ModelCtrs;
};

struct TCatboostCPPExportModelCtrs {
    unsigned int UsedModelCtrsCount;
    std::vector<TCatboostCPPExportCompressedModelCtr> CompressedModelCtrs;
    TCatboostCPPExportCtrData CtrData;
};

/* Model data */
static const struct CatboostModel {
    CatboostModel() {};
    unsigned int FloatFeatureCount = 6;
    unsigned int CatFeatureCount = 11;
    unsigned int BinaryFeatureCount = 47;
    unsigned int TreeCount = 100;
    std::vector<std::vector<float>> FloatFeatureBorders = {
        {19.5, 33.5, 36.5, 38.5, 41.5, 46.5, 56, 60.5},
        {51773, 59723, 121010, 124942, 139369.5, 167392.5, 171337.5, 238960, 553548.5},
        {4.5, 5.5, 9.5, 10.5, 11.5, 13.5},
        {1087, 3280, 7493, 11356, 17537.5},
        {808.5, 1738, 1881.5, 2189.5},
        {17, 19, 31.5, 34, 35.5, 36.5, 42, 44.5, 46.5, 49}
    };
    std::vector<unsigned int> TreeDepth = {4, 6, 0, 5, 2, 0, 0, 6, 1, 5, 4, 0, 0, 1, 5, 0, 4, 6, 2, 3, 2, 1, 6, 5, 0, 6, 1, 0, 6, 0, 0, 2, 2, 2, 3, 1, 0, 2, 1, 6, 4, 3, 0, 2, 0, 0, 2, 6, 1, 4, 5, 5, 5, 3, 6, 2, 3, 6, 0, 4, 4, 4, 2, 2, 5, 2, 4, 4, 6, 1, 2, 1, 0, 0, 2, 3, 3, 2, 1, 4, 5, 4, 1, 6, 5, 1, 2, 3, 3, 5, 5, 3, 3, 1, 1, 1, 5, 5, 6, 1};
    std::vector<unsigned int> TreeSplits = {12, 3, 10, 28, 35, 42, 36, 30, 52, 0, 48, 25, 32, 137, 140, 125, 22, 164, 34, 38, 1, 18, 139, 31, 4, 12, 131, 169, 29, 24, 33, 31, 20, 135, 25, 29, 173, 144, 77, 176, 6, 75, 155, 124, 0, 105, 26, 11, 36, 49, 103, 109, 54, 43, 124, 146, 136, 99, 26, 145, 23, 156, 54, 24, 178, 50, 170, 71, 93, 112, 23, 142, 61, 101, 22, 143, 106, 128, 57, 153, 74, 17, 150, 23, 14, 116, 50, 127, 42, 58, 102, 110, 51, 104, 132, 165, 120, 157, 152, 123, 40, 141, 172, 149, 44, 17, 162, 53, 30, 137, 28, 107, 51, 140, 139, 157, 104, 23, 24, 166, 170, 171, 48, 42, 76, 163, 31, 95, 177, 73, 31, 86, 115, 45, 90, 44, 117, 30, 165, 143, 39, 22, 51, 148, 79, 27, 111, 177, 150, 21, 125, 16, 83, 52, 47, 70, 163, 100, 37, 23, 8, 126, 59, 80, 40, 133, 62, 158, 72, 108, 167, 138, 88, 23, 129, 65, 135, 67, 28, 116, 115, 97, 118, 2, 7, 56, 23, 82, 116, 29, 175, 30, 64, 119, 23, 151, 46, 60, 24, 40, 109, 5, 164, 25, 13, 114, 134, 116, 145, 151, 19, 111, 49, 30, 81, 15, 68, 69, 130, 30, 64, 159, 115, 24, 94, 91, 31, 147, 144, 24, 66, 138, 40, 160, 154, 109, 92, 40, 30, 9, 115, 40, 85, 31, 108, 113, 66, 89, 23, 20, 98, 41, 168, 20, 24, 152, 116, 40, 63, 144, 87, 60, 111, 84, 55, 53, 23, 115, 174, 22, 122, 161, 23, 96, 31, 22, 121, 78, 31};
    std::vector<unsigned char> TreeSplitIdxs = {5, 4, 3, 1, 4, 255, 5, 3, 5, 1, 1, 3, 1, 7, 2, 3, 6, 3, 3, 7, 2, 2, 1, 4, 5, 5, 1, 1, 2, 2, 2, 4, 4, 5, 3, 2, 1, 6, 3, 2, 7, 1, 1, 2, 1, 4, 4, 4, 5, 2, 2, 4, 7, 255, 2, 8, 6, 4, 4, 7, 1, 1, 7, 2, 2, 3, 1, 1, 5, 1, 1, 4, 6, 6, 6, 5, 1, 6, 2, 7, 2, 1, 4, 1, 7, 5, 3, 5, 255, 3, 1, 5, 4, 3, 2, 1, 3, 1, 6, 1, 9, 3, 1, 3, 1, 1, 1, 6, 3, 7, 1, 2, 4, 2, 1, 1, 3, 1, 2, 1, 1, 2, 1, 255, 2, 2, 4, 7, 1, 1, 4, 3, 4, 2, 2, 1, 1, 3, 1, 5, 8, 6, 4, 2, 2, 5, 6, 1, 4, 5, 3, 9, 4, 5, 4, 2, 2, 5, 6, 1, 1, 4, 4, 1, 9, 3, 7, 1, 2, 3, 1, 8, 5, 1, 7, 3, 5, 1, 1, 5, 4, 2, 1, 3, 8, 1, 1, 3, 5, 2, 1, 3, 2, 2, 1, 5, 3, 5, 2, 9, 4, 6, 3, 3, 6, 3, 4, 5, 7, 5, 3, 6, 2, 3, 2, 8, 2, 1, 8, 3, 2, 2, 4, 2, 6, 3, 4, 1, 6, 2, 4, 8, 9, 1, 8, 4, 4, 9, 3, 2, 4, 9, 2, 4, 3, 2, 4, 1, 1, 4, 3, 10, 2, 4, 2, 6, 5, 9, 1, 6, 4, 5, 6, 1, 8, 6, 1, 4, 2, 6, 1, 1, 1, 1, 4, 6, 4, 1, 4};
    std::vector<unsigned short> TreeSplitFeatureIndex = {1, 0, 1, 4, 5, 6, 5, 4, 8, 0, 8, 3, 5, 28, 29, 27, 2, 37, 5, 5, 0, 2, 29, 4, 0, 1, 28, 41, 4, 3, 5, 4, 2, 28, 3, 4, 44, 29, 15, 45, 0, 15, 31, 27, 0, 21, 3, 1, 5, 8, 21, 22, 8, 6, 27, 29, 28, 20, 3, 29, 3, 32, 8, 3, 46, 8, 42, 13, 19, 23, 3, 29, 9, 20, 2, 29, 22, 27, 9, 30, 14, 2, 30, 3, 1, 23, 8, 27, 6, 9, 21, 22, 8, 21, 28, 38, 25, 33, 30, 27, 5, 29, 43, 30, 7, 2, 37, 8, 4, 28, 4, 22, 8, 29, 29, 33, 21, 3, 3, 39, 42, 42, 8, 6, 15, 37, 4, 19, 46, 14, 4, 18, 23, 7, 19, 7, 24, 4, 38, 29, 5, 2, 8, 30, 16, 3, 22, 46, 30, 2, 27, 1, 17, 8, 7, 12, 37, 20, 5, 3, 1, 27, 9, 17, 5, 28, 9, 34, 13, 22, 40, 28, 18, 3, 27, 10, 28, 11, 4, 23, 23, 20, 25, 0, 0, 9, 3, 17, 23, 4, 45, 4, 10, 25, 3, 30, 7, 9, 3, 5, 22, 0, 37, 3, 1, 23, 28, 23, 29, 30, 2, 22, 8, 4, 17, 1, 11, 12, 27, 4, 10, 34, 23, 3, 19, 19, 4, 30, 29, 3, 10, 28, 5, 35, 30, 22, 19, 5, 4, 1, 23, 5, 18, 4, 22, 23, 10, 19, 3, 2, 20, 5, 40, 2, 3, 30, 23, 5, 10, 29, 18, 9, 22, 18, 8, 8, 3, 23, 44, 2, 26, 36, 3, 20, 4, 2, 25, 16, 4};
    std::vector<unsigned char> TreeSplitXorMask = {0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 253, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    std::vector<unsigned int> CatFeaturesIndex = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    std::vector<unsigned int> OneHotCatFeatureIndex = {9};
    std::vector<std::vector<int>> OneHotHashValues = {
        {-2114564283, -1291328762}
    };
    std::vector<std::vector<float>> CtrFeatureBorders = {
        {2.999999f, 8.999999f, 10.999999f, 12.999999f},
        {1.999999f, 2.999999f, 3.999999f, 4.999999f, 6.999999f, 8.999999f, 9.999999f, 12.999999f},
        {3.999999f, 5.999999f, 7.999999f, 8.999999f, 9.999999f, 10.999999f, 11.999999f},
        {0.99999899f, 1.999999f, 7.999999f, 13.999999f},
        {2.999999f, 3.999999f},
        {4.999999f, 7.999999f},
        {4.999999f, 6.999999f},
        {3.999999f, 6.999999f},
        {3.999999f, 5.999999f, 10.999999f},
        {7.999999f, 12.999999f},
        {2.999999f, 5.999999f, 6.999999f, 8.999999f},
        {5.999999f, 8.999999f, 9.999999f, 13.999999f, 14.999999f},
        {0.99999899f, 1.999999f, 2.999999f, 3.999999f, 5.999999f, 6.999999f, 13.999999f},
        {6.999999f, 7.999999f, 8.999999f, 10.999999f, 11.999999f, 13.999999f},
        {9.999999f, 10.999999f, 11.999999f, 12.999999f},
        {7.999999f, 8.999999f, 9.999999f, 11.999999f, 13.999999f, 14.999999f},
        {8.999999f, 9.999999f, 10.999999f, 12.999999f, 13.999999f},
        {5.999999f},
        {9.999999f, 10.999999f, 12.999999f, 13.999999f},
        {5.999999f},
        {0.99999899f, 4.999999f, 6.999999f, 8.999999f, 9.999999f, 10.999999f, 12.999999f, 13.999999f},
        {1.999999f, 3.999999f, 4.999999f, 6.999999f, 7.999999f, 8.999999f, 9.999999f, 12.999999f},
        {3.999999f, 7.999999f, 8.999999f, 9.999999f, 11.999999f, 12.999999f, 13.999999f, 14.999999f},
        {1.999999f, 2.999999f, 4.999999f, 8.999999f, 10.999999f, 11.999999f, 12.999999f, 13.999999f},
        {13.999999f},
        {4.999999f},
        {6.999999f},
        {1.999999f, 10.999999f},
        {3.999999f},
        {11.999999f},
        {1.999999f, 4.999999f, 9.999999f},
        {10.999999f},
        {10.999999f},
        {7.999999f, 8.999999f},
        {7.999999f},
        {7.999999f, 11.999999f},
        {5.999999f},
        {2.999999f, 10.999999f},
        {12.999999f, 13.999999f},
        {11.999999f, 12.999999f}
    };

    /* Aggregated array of leaf values for trees. Each tree is represented by a separate line: */
    double LeafValues[1677] = {
        0.0239999994635582, 0, 0.0119999997317791, 0, 0.01714285675968442, 0.02499999944120646, 0.007499999832361937, 0.01862068923896757, 0, 0, 0, 0, 0, 0.007499999832361937, 0, 0.009999999776482582,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01170599974492192, 0, 0.01462999968126416, 0, 0, 0.007371428409538099, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.0002826077459871385, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01837079701164962, 0.009744396339633084, 0.02134051901419829, 0.01178999974116683, 0, 0.0206059094333689, 0, 0.02422582512955494, 0, 0, 0, 0, 0, 0.004899999892711639, 0, -7.499999664723877e-05,
        0.02166877273188889,
        0, 0, 0, 0, -0.0003000513999798483, 0.01367695022783635, 0, -0.0002918487602558011, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01342465203479076, -0.0003000513999798483, -0.0003733101066380166, 0, 0.01407158551045368, 0, 0, 0, 0.02571122669440317, 0, -0.0005045601007706845,
        0.01882406040523869, 0.02221050557527737, 0.007547494218702691, 0.003473546539407569,
        0.01989385425680057,
        0.01931425447746615,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.006395384935729113, 0, 0.006500153112922313, 0, 0, 0, 0, 0, 0, 0, 0.01598078268593344, 0, 0, 0, 0, 0.01588119182136617, 0.01923929201149268, 0.01279253069028118, 0.01931517054277701, 0, 0, 0, 0.01796251654231211, 0.006406574106903507, 0.006448956361905712, 0.01602438122198416, 0.01440472205526678, 0, 0, 0.01047698380216026, 0.003741831648949936,
        0.01876454086545097, -0.001377271450792202,
        0, 0, 0, 0, 0.01545596660085915, 0.008384214901917727, 0.0163117040023311, 0.01519769891421616, 0, 0, 0, 0, 0.01925448750068973, 0, 0.01954787652728585, 0.007431579406829656, 0, 0, 0, 0, 0, 0, 0, 0.006385472950280646, 0, 0, 0, 0, -0.0007907531121291307, 0, -0.0009835474276983908, 0,
        0.009646169223387078, 0, 0.02053877854422701, -0.002189348059499904, 0, 0, -0.001036024004871259, 0, 0.009675743953832121, 0, 0.01446780202645179, -0.002540558997123099, 0, 0, -0.0007606883294321896, 0,
        0.01688077988917587,
        0.01638896487070531,
        0.0105774180255525, 0.01745912928043346,
        0, 0, 0, 0, -0.003478276350965952, -0.001344387600692012, 0, 0, 0, 0, 0, 0, 0.01457746141506193, 0, 0, 0, -0.001937345948381272, 0, 0, 0, 0.01019258491719205, -0.00134635175161229, 0.001370790985698069, 0, 0.0137154797476313, -0.001755034751726488, 0, 0, 0.02074231627405908, -0.001342627893401656, 0.003424557590565797, 0,
        0.01504035374071814,
        0, 0, -0.002463731515452962, 0, 0.005725974132362314, 0, 0.003217212495226151, 0, 0, 0, 0, 0, 0.01855012195438151, 0, 0.01440341184962903, 0,
        0, 0.005220325335261342, 0, 0.008041125800226022, 0, 0.005242033523820354, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005375191192084601, 0.0120502064779967, 0, 0.01012834268123166, 0, 0.01568236017271379, 0, 0, 0, -0.001473185857409816, 0, 0, 0, 0, 0, 0, 0.00519978644784902, 0.004295401783251105, 0, 0.005224255946195112, 0.005593409663328277, 0.01412426865572129, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.01189149991284991, 0.007554096084094844, 0, 0, 0, 0.01780299460576485, 0, 0, -0.001584486746508424, -0.001428629358493361, 0, 0, 0, 0,
        -0.003233234069123494, 0.00836139929252847, 0, 0.01809475500444218,
        -0.001805699327900665, 0.01502654848056813, 0.007708415018090612, 0.01679736250903202, -0.004096266340756201, 0.002611477429667593, 0.006053731311516917, 0.01716823194179787,
        0.00840107228001194, 0.00419652028944615, 0.01023053319742882, 0.01715570339830102,
        0.007790269817020335, 0.01517870196013158,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.004051997854548408, 0, 0, 0, 0.008314877557572058, 0.01257508392521917, 0, 0, 0, 0, -0.001452844310487816, 0, 0, 0, -0.001863055855547298, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.007501323135232175, 0.005165551632592145, 0, 0, 0.01550386395719589, 0.01641386398104917, 0, 0, -0.003605906446258667, 0, -0.001660151364629077, 0, -0.002557436703782462, 0.004410076022392116, 0, 0,
        0, -0.001441947978402709, 0, 0, 0, 0, 0, -0.002538255928932817, -0.003982535035737335, 0, 0, 0, 0.002528921795064347, 0, 0.01122134599085867, -0.001849082936943012, 0, 0, 0, 0, 0, -0.00406732979467406, 0, 0, 0, 0, 0, 0, 0.01466645307174444, 0, 0.008916487963470726, 0,
        0.01174416546055776,
        0, 0, -0.002839241907240421, -0.002922586268823876, 0, 0, 0, -0.001519214607791828, 0.006900039632478746, 0, 0, 0.004122389911175653, 0, 0, 0, 0, 0.004928730361648806, 0, 0.004397871133202445, 0.01025579644757854, 0, 0, 0, -0.003164462750432316, 0.01264887795326409, 0.01306673021002897, 0.0005554133391868427, 0.01319112187353651, 0, 0, -0.00192329605421133, -0.003940356241175227, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.006745031251916291, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.009687680321498861, 0.01388250234475016, 0, 0, 0, 0.00417892081839863,
        0.0127355281736241, -4.726575971922746e-05,
        0.0108132062659933,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003979370312999474, -0.001888182806703485, 0, -0.002975299224521515, 0, 0, 0, 0, 0, -0.002074442244972807, 0, -0.001729135784921231, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.004467056854237964, 0, 0.004811020332770409, 0.009797672085410955, 0, 0, 0, 0.01467533468304196, 0, 0, 0, 0, 0, 0, 0, 0, 0.005633081616023909, 0, 0.001746653996264808, 0.005472759760823625, 0, 0, 0, 0.001156841213692754,
        0.01022049712215698,
        0.009922726876119056,
        0.007593298099911205, 0.01303394752526386, 0.004457904893219481, 0.002402624632612353,
        0.009901326740682916, -0.002115137908626559, 0.01033562140585187, -0.004728761813379691,
        0, -0.005218562490962424, 0.01341377702569553, 0.00390962400001111,
        -0.005120714446443953, 0, 0, 0, 0.004891279071522979, 0.01086675708410138, 0.007009573184927921, 0.01214532002626405,
        0.003804070895645118, 0.01153529829499567,
        0.008352503542588093,
        -0.005252636818341307, 0, 0.003009925466619119, 0.01190778670065574,
        0.00422808315439296, 0.01114349210855149,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003596601145900501, 0, 0.005650751512626136, 0.003992517936007843, 0.000608406380578651, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00370749096933741, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.004908919321880763, 0, 0.003936317049887823, 0, 0.0107687352319621, 0, 0.01097695165530234, 0, 0.007582921073333595, 0, 0.004102823596817599, 0, 0, 0, 0, 0, -0.0005702729515536146, 0, -0.001802184480117025, 0, 0.003393823908150854, 0, 0.0007422711621140451,
        0, 0, 0, 0, 0.006337619361569529, 0, -0.0006373853212871474, 0, 0, -0.006335415069165028, 0.007444368348279038, 0.006076648652217232, 0.005467965554317103, -0.004686094444659953, 0.01014073281444571, -0.0001776349332707601,
        0, 0, 0.005255095052423902, 0.004988355798801524, 0, 0.007535354310258446, -0.002116937864720535, 0.0078943227891942,
        0.007065535293869308,
        0.001988156409405033, 0.007993391651476944, -0.003099065078016779, -0.0002387028027341894,
        0.006659642565468376,
        0.006465616445061263,
        0.002343436610380261, 0.009071406543386605, 0.0001135285385067508, 0.001586445707772968,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00758086849053349, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.003860663840492048, 0, -0.002422684662469226, 0, -0.004365209767771291, 0, 0.0009998396369746646, 0.005991241960847496, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003626877324282839, 0, 0, 0, 0.008926850061875961,
        0.006980704067409322, -0.006024958417444646,
        0, -0.004592443144388553, 0, -0.00582560470260811, 0.007093110919099733, 0, 0.005032953057315866, 0, 0, 0, 0, 0, 0.006928510948711732, 0, 0.005951118914911232, -0.002873701253222358,
        0, 0, 0, 0, 0, 0.004236738008100536, 0, 0.004630320678953344, -0.003416257592652988, -0.002482371702130767, 0, 0, 0, 0.004734311591604381, 0, 0.008380655662534937, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.00263532317723996, 0, -0.003290647340681439,
        -0.002234985587400522, 0, 0, 0, -0.001934668794081796, 0, -0.0002985012098646038, 0, 0, 0, 0, 0, -0.002615558253852441, 0, 0, 0, 0.002423676774685526, -0.002364524019679588, -0.003454646418538535, -0.002607258569792736, 0.00783626246402367, 0.007079619214446576, 0.003079629343978478, 0.008376635209493622, 0, 0, 0, 0, 0, -0.003265967486177966, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003542073207571774, 0, -0.002437844067221018, 0, 0, 0.005975112781090906, -0.004781525311177708, 0, 0, 0, 0, 0.006490451422530316, -0.0012049021960928, 0.006862663517111247, -0.002199548559851371, 0.008417274709845563, 0.00228799620151539,
        0.0007392449300058589, -0.000713346121705563, 0.0002348688383088354, 0, 0.008197135493123533, -0.003205611291546864, 0.006729183542036767, 0,
        0, 0, 0, 0, 0.002142370524121515, 0.003384049465080824, -0.001983692206545951, 0, -0.002312690167144052, -0.00337269287313719, 0, -0.002187906093688538, 0.007710847963449178, 0.004022597182124711, -0.001167061433224077, -0.003305050845002386, 0, 0, 0, 0, 0, 0, 0, 0, -0.002553604208172042, 0, 0, 0, 0.001921626965519752, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002745358954561213, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0009370461621390547, 0.007779553281763703, -0.00246210799380036, 0.007222851498008899,
        0.004818495887221033, 0.006173959921438644, 0.003568826981260311, 0.001259193208346161, 0.006905793236190289, 0.002731222946593649, 0.007119682042014833, -0.009335040146093912,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005136774617134494, 0, 0.002097256445906255, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.003605245411497591, 0, -0.004360065387407804, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000318286226096067, 0, 0.006438030567368992, 0.002816183226562514, 0, 0, 0, 0, 0, 0, -0.003683340859650676, 0,
        0.004457779063500641,
        0, 0, -0.003789729930049101, 0.001699283913646099, 0, 0, 0, 0, 0.007352479312653316, 0.006073883458261505, 0.002877118721088626, 0.006826129850230012, -0.002822959128177666, 0, -0.007553751950119099, 0.002098647788452365,
        0, 0, 0.003251451065306414, 0, -0.003923160026462977, 0, 0.004984965501623389, 0.006130456730649956, -0.002136484237053768, 0, 0, 0.002365296079936848, -0.003240694047081734, 0, -0.00582360614387653, 0.004854337240779787,
        0, -0.003872782380420356, 0, 0.002550772078310441, 0, -0.001923377743278143, 0, 5.592751193483514e-05, 0, 0.003722991548729179, 0.003227065182861682, 0.00437336937576881, 0, 0.005333268315003679, 0, 0.004603384619653011,
        0.001792352838071616, 0.006508111711834393, -0.0008751966595737685, 0.005609823824887254,
        -0.001243791510643712, 0.006195007256400272, 0.004172332109349989, 0.005065317978435047,
        -0.002285426808244523, 0, 0, 0, 0, 0, 0, 0, -0.002412015289422725, -0.001570227298704623, 0, 0, 0, 0, 0, 0, -0.002552030655115746, -0.005135472357730255, 0, 0, 0.006952515147169307, -0.002857807148570361, 0, 0, 0.002364707891264531, 0, 0.005141256351188956, 0, 0.003510839402810096, -0.005770591975588897, 0.005837814334730979, 0.001913867890932196,
        0.006546256120692575, 0.002956388145939519, -0.0002609926595933801, -0.001871765142593835,
        0, 0.006581581523893731, 0, 0, 0.005453415344762486, 0.00254419998333829, 0.005544501062803233, -0.001162880134235033, 0, -0.002895846553544086, 0, -0.006201757969592519, 0.00477577234911764, 0.004493207536131753, 0.006097722648983529, -0.00277764763940283,
        0, 0, -0.003459467110316886, 0, 0, 0, 0, 0, -0.002244609813996489, 0, 0.005611859760020165, 0.003575778341900448, -0.001509979965592077, 0, -0.004741636742634425, -0.004855498786149343,
        0, -0.007458143919546443, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.001130611688511411, 0, 0, 0, 0, 0, 0.002657058176237887, 0, -0.002979163241633849, 0, 0, 0, 0, 0, 0, 0, -0.002766545728637379, 0, 0, 0, 0, 0.00562742446058355, -0.0008422299834463886, 0, 0, 0, -0.003003603812620539, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.005847442939226236, 0.004244577589537378, 0.001886370946500638, 0, 0.001706029210199876, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.004140131847415851, -0.006252783263511684,
        0.003736424097405133, -0.002003084649063634, 0.005931566249847591, 0.0004988929842504307,
        -0.005196527251759356, 0.003647967105927237,
        0.002979325572238684,
        0.002892524069526125,
        0.005128200473967867, -0.008058876419154782, -0.003075779590786402, -0.001385864947808451,
        0.002914904616859528, 0.004483380271452706, 0.005067422590163158, 0.003770991617133305, 0.0002653383056369107, 0.004000611065114669, -0.005451014147589476, 0.005730449376061907,
        0.004973717902529208, 0, 0.004566145518919536, 0, 0.002051658082302593, -0.004581035995438735, 0.002440668913509947, -0.004041902536043154,
        0.002732817160954075, 0.004970755652545454, 0.005882672598567015, -0.001933683002104701,
        -0.001026172174720055, 0.004351088767771158,
        0, -0.002186616934676818, 0, -0.002853544410116241, 0, 0, 0, 0, -0.0005958264001938897, 0.005313376948957837, 0.0009976906744494512, -0.004104191031158895, 0.004254590108676887, 0.002313526259435324, 0.004405338755783935, 0.001986065867866132,
        0, 0, -0.00126067359146883, 0, 0, 0, -0.002170217308033302, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.001921868706015912, 0, -0.002494087201576624, 0, 0, 0, -0.002263453755981453, 0, 0.0004199056202313371, -0.004224454535038538, 0.003232528263218312, -0.003554358077948054, -0.00566352824191558, 0, 0.004656766237016557, 0.004113262062495023,
        -0.003093407778049471, 0, -0.001267237219599216, 0, 0.003770696939025901, 0.001021666112526922, -0.002761633318033569, 0, 0.003584436883970883, 0.002109574791186649, 0, 0, 0.002648788404606489, 0.003684556339186993, 0, 0,
        0.004509297776995213, -0.001051769889416958,
        0, 0, 0, 0, 0.002621728032850082, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.002063232488588954, 0, 0, 0, -0.008079408318927108, 0, 0.002847354419963834, -0.005880756046782171, -0.002438175481226516, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.003013133668932693, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003895478380655138, 0, 0, 0, 0.002585623582097787, 0, 0.004545169181788155, -0.003719460570612199, 0, 0, 0, 0, 0, 0, -0.003510307840030422, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.002967679452011463, -0.004781910879921168, 0.006866622479645061, -0.004761618346288022, 0.003690050383288928, 0, 0.003424425383670845, -0.00369156461695613, -0.005352023528639302, -0.001176024038568014, -0.005391088995435669, 0, 0.003022853685889096, 0, 0.002560678868024905, 0,
        0.003657052599051672, -0.0009717220762017647,
        0.001040103899877268, 0.003608806523520989, -0.002240991697021605, 0.003669634148348561,
        0.001680212793546759, -0.003847665694760641, 0, 0, 0.003049433509662011, -0.001740532049483947, 0.0005069857968790065, -0.003990536454305092,
        0.003452895986197807, -0.006014940142143003, 0.001618828514692468, -0.006190821296866833, 0.003517425561281793, 0.002485089753986622, 0.003400168541734683, -0.005332955146099428,
        0, 0, 0, 0, 0.004083635072922756, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003225739404722737, 0, -0.007595938741347686, -0.004638948505025092, 0.002604743173691504, 0, 0, 0, 0.003821953990669289, 0, 0.002701965985387332, 0, 0.002158793712614732, 0,
        0.004086237559240036, 0, -0.0002633784174683212, 0, 0.002146516169431933, 0, 0.003139943751567382, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003794618419765022, -0.004983280677205186, 0.001731793564222681, -0.002638287576893615, 0.003016225881363385, 0, 0.00105995612794299, -0.003682218682203904, -0.001605166366678224, 0, -0.005483547826615521, -0.00103308781364747, 0.002863492231664153, 0, 0.002409458476615244, 0,
        0.002905064967298044, 0.003782026714676872, 0, -0.003043048842916657, 0.004220767989554431, -0.006576307193006235, -0.004923481310415343, -0.004905357023531437,
        0.00255120372636622, -0.004387340547027967, 0, 0, 0.003275731997290528, 0.002047823692648569, 0.003538687201315842, -0.006649161955638868,
        -0.00103679831742129, 0.002969069885042866,
        0.000814640269999843, 0.00256489877199843,
        -0.004511082049022694, 0.001941917777794057,
        -0.001459263157703387, 0, -0.003698329724210864, 0.00309170303358557, 0, 0, 0, 0, -0.005763147202439845, 0.003363207042509323, 0.002536665250090964, 0.003004817463759062, 0, 0, 0.001021823582380528, 0.002056169321977885, 0, 0, -0.0009031814648816388, -0.00304339007074571, 0, 0, 0, 0, 0, 0, -0.005840071484842325, 0.001220890799985167, 0, 0, -0.0037488331070751, 0,
        0.002385091512913186, -0.004006647357129139, 0.001950039122206902, 0, 0, 0, 0, 0, 0.002932156845898051, -4.107913768259497e-05, 0.002832083491306837, 0.0009282845642177918, 0, 0, 0.003312758937999286, -0.005166906778435467, 0, 0.001131105911097604, 0, -0.001420784672937018, 0, 0, 0, 0.004028932859501071, 0, 0.001333085929651676, 0, 0.001856363064255111, 0, -0.001448318684265239, 0, -0.007674750465442882,
        0.002653581109753404, 0, 0.001837113977427901, 0, 0, 0, 0, 0, -0.002899958685384244, 0, -0.006579447792702718, 0, 0, 0, -0.002091793182191231, 0, 0.003758575874998966, 0, 0.003043902496715276, 0, 0, 0, 0, 0, 0, 0, 0.003263067555039985, -0.00298181284575321, 0, 0, 0, 0, 0.00527206831403541, -0.004328129088540472, 1.766719988530358e-05, -0.005254458343180764, 0, 0, -0.003547765018006069, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0005712180022880028, 0, 0.002615496154238427, 0.001190493493479909, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.001565488473877495, -0.004477809211712981
    };
    struct TCatboostCPPExportModelCtrs modelCtrs = {
        .UsedModelCtrsCount = 40,
        .CompressedModelCtrs = {
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {3},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387099ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387099ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387099ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 16890222057671696980ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {3, 8},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 4230580741181273963ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741181273963ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {3, 10},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 4230580741181273965ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741181273965ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741181273965ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {4},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387100ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387100ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387100ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 16890222057671696979ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {5},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387101ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387101ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387101ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 16890222057671696978ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {5, 8},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 4230580741057408765ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741057408765ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {6},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 16890222057671696977ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {7},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387103ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387103ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387103ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 16890222057671696976ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {7},
                    .binarizedIndexes = {
                        {.BinIndex = 0, .CheckValueEqual = 0, .Value = 7}
                    },
                },
                .ModelCtrs = {
                    {.BaseHash = 13996594887660902868ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {7, 8},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 4230580741059372687ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741059372687ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {7, 10},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 4230580741059372657ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 4230580741059372657ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 1556522015969784062ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {8},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387072ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387072ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387072ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 16890222057671696975ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Counter, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {8},
                    .binarizedIndexes = {
                        {.BinIndex = 0, .CheckValueEqual = 0, .Value = 5},
                        {.BinIndex = 1, .CheckValueEqual = 0, .Value = 5}
                    },
                },
                .ModelCtrs = {
                    {.BaseHash = 11835911527586742784ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {8},
                    .binarizedIndexes = {
                        {.BinIndex = 3, .CheckValueEqual = 0, .Value = 2}
                    },
                },
                .ModelCtrs = {
                    {.BaseHash = 8661910707442234912ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {8},
                    .binarizedIndexes = {
                        {.BinIndex = 5, .CheckValueEqual = 0, .Value = 9}
                    },
                },
                .ModelCtrs = {
                    {.BaseHash = 17362096607299135043ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            },
            {
                .Projection = {
                    .transposedCatFeatureIndexes = {10},
                    .binarizedIndexes = {},
                },
                .ModelCtrs = {
                    {.BaseHash = 14216163332699387074ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387074ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 0.5, .PriorDenom = 1, .Shift = -0, .Scale = 15},
                    {.BaseHash = 14216163332699387074ull, .BaseCtrType = ECatboostCPPExportModelCtrType::Borders, .TargetBorderIdx = 0, .PriorNum = 1, .PriorDenom = 1, .Shift = -0, .Scale = 15}
                }
            }
        },
        .CtrData = {
            .LearnCtrs = {
                {
                    1556522015969784062ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11823609977799867619ull, 5}, {16655335217705586820ull, 9}, {18446744073709551615ull, 0}, {3170462817094456742ull, 2}, {18446744073709551615ull, 0}, {2284919159458062856ull, 1}, {8339849364917641608ull, 4}, {18446744073709551615ull, 0}, {3249691952091667531ull, 7}, {13164770162471062348ull, 12}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11362901190702004051ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15439229206164031703ull, 0}, {10993920541430785464ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {17453134838463864731ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15370298791962790366ull, 11}, {9169443671295064062ull, 10}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 33,
                        .CtrMeanHistory = {{.Sum = 2.94273e-44, .Count = 1}, {.Sum = 4.62428e-44, .Count = 2}, {.Sum = 7.00649e-45, .Count = 1}, {.Sum = 1.4013e-45, .Count = 19}, {.Sum = 1.82169e-44, .Count = 1}, {.Sum = 2.8026e-45, .Count = 1}},
                        .CtrTotal = {21, 1, 33, 2, 5, 1, 1, 19, 13, 1, 2, 1, 1}
                    }
                },
                {
                    4230580741057408765ull,
                    {
                        .IndexHashViewer = {{3632340108106778112ull, 12}, {84580555217079201ull, 10}, {1856503610704726976ull, 3}, {12055230997206289283ull, 7}, {16771526449192646880ull, 11}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {3152779373080459276ull, 5}, {14225011642249373260ull, 9}, {18198689053211288334ull, 4}, {16796278652265879919ull, 6}, {4201158457639332815ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9710576150271683444ull, 2}, {6178854915050051732ull, 0}, {8308165749326275029ull, 13}, {4776444514104643317ull, 1}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 28}, {.Sum = 0, .Count = 4}, {.Sum = 2.94273e-44, .Count = 17}, {.Sum = 0, .Count = 3}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 11}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 5}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {0, 28, 0, 4, 21, 17, 0, 3, 0, 2, 0, 2, 0, 1, 0, 11, 0, 2, 0, 2, 0, 1, 0, 5, 0, 1, 1, 0}
                    }
                },
                {
                    4230580741059372657ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11823609977799867619ull, 5}, {16655335217705586820ull, 9}, {18446744073709551615ull, 0}, {3170462817094456742ull, 2}, {18446744073709551615ull, 0}, {2284919159458062856ull, 1}, {8339849364917641608ull, 4}, {18446744073709551615ull, 0}, {3249691952091667531ull, 7}, {13164770162471062348ull, 12}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11362901190702004051ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15439229206164031703ull, 0}, {10993920541430785464ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {17453134838463864731ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15370298791962790366ull, 11}, {9169443671295064062ull, 10}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 21}, {.Sum = 0, .Count = 1}, {.Sum = 2.38221e-44, .Count = 16}, {.Sum = 1.4013e-45, .Count = 1}, {.Sum = 2.8026e-45, .Count = 3}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}, {.Sum = 0, .Count = 19}, {.Sum = 0, .Count = 13}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {0, 21, 0, 1, 17, 16, 1, 1, 2, 3, 0, 1, 1, 0, 0, 19, 0, 13, 0, 1, 0, 2, 0, 1, 1, 0}
                    }
                },
                {
                    4230580741059372687ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {9846335135722999169ull, 11}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {13922663151185026821ull, 15}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9507969301682408328ull, 2}, {18033043251005298120ull, 12}, {15936568783484859849ull, 13}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {8184788035734210702ull, 9}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1653896762115451860ull, 3}, {18446744073709551615ull, 0}, {16297997274344547222ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1927581216097023258ull, 1}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {8105558900736999913ull, 16}, {14677355849505593194ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9587198436679619117ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {17700407675289955637ull, 7}, {6823283309938636726ull, 14}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1733125897112662649ull, 10}, {3329991617042431673ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5343897249342264701ull, 4}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 18}, {.Sum = 0, .Count = 3}, {.Sum = 2.52234e-44, .Count = 15}, {.Sum = 0, .Count = 2}, {.Sum = 1.4013e-45, .Count = 0}, {.Sum = 2.8026e-45, .Count = 2}, {.Sum = 0, .Count = 16}, {.Sum = 0, .Count = 10}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 5}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {0, 18, 0, 3, 18, 15, 0, 2, 1, 0, 2, 2, 0, 16, 0, 10, 0, 1, 0, 1, 0, 5, 0, 2, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0}
                    }
                },
                {
                    4230580741181273963ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {1799168355831033313ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11936664559898134054ull, 0}, {14666845749088704071ull, 4}, {18429784838380727208ull, 6}, {17027374437435318793ull, 8}, {2862173265672040777ull, 3}, {16080065667299791243ull, 11}, {14677655266354382828ull, 13}, {12391839889973628461ull, 9}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {4082592020331177586ull, 10}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {315676340386518075ull, 12}, {18446744073709551615ull, 0}, {10716245805238997245ull, 2}, {9313835404293588830ull, 1}, {17603450378469852574ull, 7}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 4}, {.Sum = 1.4013e-44, .Count = 46}, {.Sum = 0, .Count = 8}, {.Sum = 2.8026e-45, .Count = 0}, {.Sum = 1.4013e-45, .Count = 3}, {.Sum = 1.4013e-45, .Count = 4}, {.Sum = 7.00649e-45, .Count = 0}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 2}, {.Sum = 2.8026e-45, .Count = 6}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {0, 2, 0, 4, 10, 46, 0, 8, 2, 0, 1, 3, 1, 4, 5, 0, 0, 1, 0, 2, 0, 2, 2, 6, 0, 1, 1, 0}
                    }
                },
                {
                    4230580741181273965ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5599158075310182468ull, 0}, {8329339264500752485ull, 3}, {12092278353792775622ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9742559182711839657ull, 10}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9671173347654628428ull, 1}, {12202197044987374381ull, 7}, {10298491039854442190ull, 12}, {1290122454378893647ull, 13}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {17719764915181305303ull, 11}, {13031886481356456536ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {4378739320651045659ull, 2}, {15662310901915236188ull, 9}, {11265943893881900988ull, 8}, {18446744073709551615ull, 0}, {13908405944952633343ull, 4}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 3}, {.Sum = 0, .Count = 2}, {.Sum = 1.26117e-44, .Count = 54}, {.Sum = 2.8026e-45, .Count = 0}, {.Sum = 1.4013e-45, .Count = 5}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 6}, {.Sum = 1.4013e-45, .Count = 0}, {.Sum = 7.00649e-45, .Count = 0}, {.Sum = 0, .Count = 1}, {.Sum = 2.8026e-45, .Count = 5}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {0, 3, 0, 2, 9, 54, 2, 0, 1, 5, 0, 1, 1, 6, 1, 0, 5, 0, 0, 1, 2, 5, 0, 1, 0, 1, 1, 0}
                    }
                },
                {
                    8661910707442234912ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {14282620878612260867ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {12420782654419932198ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9743509310306231593ull, 4}, {9551523844202795562ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10742856347075653999ull, 1}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 2.10195e-44, .Count = 61}, {.Sum = 1.4013e-45, .Count = 5}, {.Sum = 0, .Count = 12}, {.Sum = 8.40779e-45, .Count = 0}, {.Sum = 0, .Count = 1}},
                        .CtrTotal = {15, 61, 1, 5, 0, 12, 6, 0, 0, 1}
                    }
                },
                {
                    11835911527586742784ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {7234292046535216449ull, 7}, {18446744073709551615ull, 0}, {2353274580395291555ull, 9}, {16966582006097664932ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10930734722845589512ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {2216280608698486379ull, 0}, {12235484971688199627ull, 1}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {6199637688436124207ull, 4}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15931927647998572690ull, 2}, {18446744073709551615ull, 0}, {2537274894889245812ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {12269564854451694295ull, 11}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {16252921934189332123ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {7538467820042228990ull, 10}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 5.60519e-45, .Count = 31}, {.Sum = 0, .Count = 2}, {.Sum = 1.4013e-45, .Count = 13}, {.Sum = 0, .Count = 4}, {.Sum = 8.40779e-45, .Count = 4}, {.Sum = 1.4013e-44, .Count = 13}, {.Sum = 1.4013e-45, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 1}, {.Sum = 0, .Count = 5}},
                        .CtrTotal = {4, 31, 0, 2, 1, 13, 0, 4, 6, 4, 10, 13, 1, 2, 0, 1, 0, 2, 0, 1, 0, 1, 0, 5}
                    }
                },
                {
                    13996594887660902868ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5844492600899280932ull, 7}, {18446744073709551615ull, 0}, {1034166431492604838ull, 1}, {18446744073709551615ull, 0}, {6203552979315789704ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1113395566489815627ull, 4}, {13957701839509617452ull, 8}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9226604805100152147ull, 5}, {1601191413561926516ull, 9}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {13302932820562179799ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15316838452862012827ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5765263465902070143ull, 6}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 22}, {.Sum = 2.10195e-44, .Count = 15}, {.Sum = 1.4013e-45, .Count = 0}, {.Sum = 2.8026e-45, .Count = 3}, {.Sum = 0, .Count = 17}, {.Sum = 0, .Count = 12}, {.Sum = 5.60519e-45, .Count = 2}, {.Sum = 0, .Count = 5}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}},
                        .CtrTotal = {0, 22, 15, 15, 1, 0, 2, 3, 0, 17, 0, 12, 4, 2, 0, 5, 0, 2, 0, 1}
                    }
                },
                {
                    14216163332699387072ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {8473802870189803490ull, 0}, {7071392469244395075ull, 1}, {18446744073709551615ull, 0}, {8806438445905145973ull, 3}, {619730330622847022ull, 2}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 2.94273e-44, .Count = 61}, {.Sum = 1.4013e-45, .Count = 5}, {.Sum = 0, .Count = 12}, {.Sum = 0, .Count = 1}},
                        .CtrTotal = {21, 61, 1, 5, 0, 12, 0, 1}
                    }
                },
                {
                    14216163332699387074ull,
                    {
                        .IndexHashViewer = {{2136296385601851904ull, 0}, {7428730412605434673ull, 1}, {9959754109938180626ull, 3}, {14256903225472974739ull, 5}, {8056048104805248435ull, 4}, {18446744073709551615ull, 0}, {12130603730978457510ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10789443546307262781ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 2.8026e-44, .Count = 73}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 1}, {.Sum = 1.4013e-45, .Count = 0}},
                        .CtrTotal = {20, 73, 0, 2, 0, 1, 1, 0, 0, 2, 0, 1, 1, 0}
                    }
                },
                {
                    14216163332699387099ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {15379737126276794113ull, 2}, {18446744073709551615ull, 0}, {14256903225472974739ull, 3}, {18048946643763804916ull, 0}, {2051959227349154549ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {7024059537692152076ull, 5}, {18446744073709551615ull, 0}, {15472181234288693070ull, 4}, {8864790892067322495ull, 1}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 4}, {.Sum = 1.4013e-44, .Count = 58}, {.Sum = 2.8026e-45, .Count = 0}, {.Sum = 1.4013e-45, .Count = 5}, {.Sum = 1.4013e-45, .Count = 6}, {.Sum = 7.00649e-45, .Count = 0}, {.Sum = 4.2039e-45, .Count = 6}},
                        .CtrTotal = {0, 4, 10, 58, 2, 0, 1, 5, 1, 6, 5, 0, 3, 6}
                    }
                },
                {
                    14216163332699387100ull,
                    {
                        .IndexHashViewer = {{7537614347373541888ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5903587924673389870ull, 1}, {18278593470046426063ull, 8}, {10490918088663114479ull, 4}, {18446744073709551615ull, 0}, {407784798908322194ull, 7}, {5726141494028968211ull, 6}, {1663272627194921140ull, 10}, {8118089682304925684ull, 9}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15431483020081801594ull, 11}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1403990565605003389ull, 0}, {3699047549849816830ull, 5}, {14914630290137473119ull, 3}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 4.2039e-45, .Count = 16}, {.Sum = 5.60519e-45, .Count = 24}, {.Sum = 5.60519e-45, .Count = 16}, {.Sum = 9.80909e-45, .Count = 3}, {.Sum = 0, .Count = 3}, {.Sum = 2.8026e-45, .Count = 0}, {.Sum = 1.4013e-45, .Count = 3}, {.Sum = 0, .Count = 5}, {.Sum = 0, .Count = 4}, {.Sum = 1.4013e-45, .Count = 1}, {.Sum = 0, .Count = 3}, {.Sum = 0, .Count = 1}},
                        .CtrTotal = {3, 16, 4, 24, 4, 16, 7, 3, 0, 3, 2, 0, 1, 3, 0, 5, 0, 4, 1, 1, 0, 3, 0, 1}
                    }
                },
                {
                    14216163332699387101ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {13987540656699198946ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18089724839685297862ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10353740403438739754ull, 1}, {3922001124998993866ull, 0}, {13686716744772876732ull, 2}, {18293943161539901837ull, 4}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 37}, {.Sum = 3.08286e-44, .Count = 20}, {.Sum = 0, .Count = 4}, {.Sum = 0, .Count = 2}, {.Sum = 0, .Count = 13}, {.Sum = 0, .Count = 3}},
                        .CtrTotal = {0, 37, 22, 20, 0, 4, 0, 2, 0, 13, 0, 3}
                    }
                },
                {
                    14216163332699387103ull,
                    {
                        .IndexHashViewer = {{3607388709394294015ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18356215166324018775ull, 5}, {18365206492781874408ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {14559146096844143499ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11416626865500250542ull, 1}, {5549384008678792175ull, 4}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 0, .Count = 22}, {.Sum = 2.66247e-44, .Count = 17}, {.Sum = 1.4013e-45, .Count = 1}, {.Sum = 2.8026e-45, .Count = 3}, {.Sum = 0, .Count = 22}, {.Sum = 0, .Count = 14}},
                        .CtrTotal = {0, 22, 19, 17, 1, 1, 2, 3, 0, 22, 0, 14}
                    }
                },
                {
                    16890222057671696975ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {8473802870189803490ull, 0}, {7071392469244395075ull, 1}, {18446744073709551615ull, 0}, {8806438445905145973ull, 3}, {619730330622847022ull, 2}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 82,
                        .CtrMeanHistory = {{.Sum = 1.14906e-43, .Count = 6}, {.Sum = 1.68156e-44, .Count = 1}},
                        .CtrTotal = {82, 6, 12, 1}
                    }
                },
                {
                    16890222057671696976ull,
                    {
                        .IndexHashViewer = {{3607388709394294015ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18356215166324018775ull, 5}, {18365206492781874408ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {14559146096844143499ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {11416626865500250542ull, 1}, {5549384008678792175ull, 4}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 36,
                        .CtrMeanHistory = {{.Sum = 3.08286e-44, .Count = 36}, {.Sum = 2.8026e-45, .Count = 5}, {.Sum = 3.08286e-44, .Count = 14}},
                        .CtrTotal = {22, 36, 2, 5, 22, 14}
                    }
                },
                {
                    16890222057671696977ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {14452488454682494753ull, 1}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1388452262538353895ull, 0}, {8940247467966214344ull, 8}, {4415016594903340137ull, 7}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {41084306841859596ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {8678739366408346384ull, 2}, {18446744073709551615ull, 0}, {4544226147037566482ull, 12}, {14256903225472974739ull, 5}, {16748601451484174196ull, 10}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5913522704362245435ull, 4}, {1466902651052050075ull, 9}, {2942073219785550491ull, 11}, {15383677753867481021ull, 3}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 16,
                        .CtrMeanHistory = {{.Sum = 1.82169e-44, .Count = 11}, {.Sum = 8.40779e-45, .Count = 16}, {.Sum = 1.54143e-44, .Count = 6}, {.Sum = 2.24208e-44, .Count = 5}, {.Sum = 1.4013e-44, .Count = 2}, {.Sum = 4.2039e-45, .Count = 1}},
                        .CtrTotal = {13, 11, 6, 16, 11, 6, 16, 5, 10, 2, 3, 1, 1}
                    }
                },
                {
                    16890222057671696978ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {13987540656699198946ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18089724839685297862ull, 5}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10353740403438739754ull, 1}, {3922001124998993866ull, 0}, {13686716744772876732ull, 2}, {18293943161539901837ull, 4}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 42,
                        .CtrMeanHistory = {{.Sum = 5.1848e-44, .Count = 42}, {.Sum = 5.60519e-45, .Count = 2}, {.Sum = 1.82169e-44, .Count = 3}},
                        .CtrTotal = {37, 42, 4, 2, 13, 3}
                    }
                },
                {
                    16890222057671696979ull,
                    {
                        .IndexHashViewer = {{7537614347373541888ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {5903587924673389870ull, 1}, {18278593470046426063ull, 8}, {10490918088663114479ull, 4}, {18446744073709551615ull, 0}, {407784798908322194ull, 7}, {5726141494028968211ull, 6}, {1663272627194921140ull, 10}, {8118089682304925684ull, 9}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {15431483020081801594ull, 11}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {1403990565605003389ull, 0}, {3699047549849816830ull, 5}, {14914630290137473119ull, 3}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 28,
                        .CtrMeanHistory = {{.Sum = 2.66247e-44, .Count = 28}, {.Sum = 2.8026e-44, .Count = 10}, {.Sum = 4.2039e-45, .Count = 2}, {.Sum = 5.60519e-45, .Count = 5}, {.Sum = 5.60519e-45, .Count = 2}, {.Sum = 4.2039e-45, .Count = 1}},
                        .CtrTotal = {19, 28, 20, 10, 3, 2, 4, 5, 4, 2, 3, 1}
                    }
                },
                {
                    16890222057671696980ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {15379737126276794113ull, 2}, {18446744073709551615ull, 0}, {14256903225472974739ull, 3}, {18048946643763804916ull, 0}, {2051959227349154549ull, 6}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {7024059537692152076ull, 5}, {18446744073709551615ull, 0}, {15472181234288693070ull, 4}, {8864790892067322495ull, 1}},
                        .TargetClassesCount = 0,
                        .CounterDenominator = 68,
                        .CtrMeanHistory = {{.Sum = 5.60519e-45, .Count = 68}, {.Sum = 2.8026e-45, .Count = 6}, {.Sum = 9.80909e-45, .Count = 5}},
                        .CtrTotal = {4, 68, 2, 6, 7, 5, 9}
                    }
                },
                {
                    17362096607299135043ull,
                    {
                        .IndexHashViewer = {{18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {14282620878612260867ull, 3}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {12420782654419932198ull, 2}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {9743509310306231593ull, 4}, {9551523844202795562ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {18446744073709551615ull, 0}, {10742856347075653999ull, 1}},
                        .TargetClassesCount = 2,
                        .CounterDenominator = 0,
                        .CtrMeanHistory = {{.Sum = 1.54143e-44, .Count = 54}, {.Sum = 1.4013e-45, .Count = 5}, {.Sum = 0, .Count = 12}, {.Sum = 1.4013e-44, .Count = 7}, {.Sum = 0, .Count = 1}},
                        .CtrTotal = {11, 54, 1, 5, 0, 12, 10, 7, 0, 1}
                    }
                }
            }
        }
    };
} CatboostModelStatic;

static inline TCatboostCPPExportModelCtrBaseHash CalcHash(TCatboostCPPExportModelCtrBaseHash a, TCatboostCPPExportModelCtrBaseHash b) {
    const static constexpr TCatboostCPPExportModelCtrBaseHash MAGIC_MULT = 0x4906ba494954cb65ull;
    return MAGIC_MULT * (a + MAGIC_MULT * b);
}

static inline TCatboostCPPExportModelCtrBaseHash CalcHash(
    const std::vector<unsigned char>& binarizedFeatures,
    const std::vector<int>& hashedCatFeatures,
    const std::vector<int>& transposedCatFeatureIndexes,
    const std::vector<TCatboostCPPExportBinFeatureIndexValue>& binarizedFeatureIndexes) {
    TCatboostCPPExportModelCtrBaseHash result = 0;
    for (const int featureIdx : transposedCatFeatureIndexes) {
        auto valPtr = &hashedCatFeatures[featureIdx];
        result = CalcHash(result, (TCatboostCPPExportModelCtrBaseHash)valPtr[0]);
    }
    for (const auto& binFeatureIndex : binarizedFeatureIndexes) {
        const unsigned char* binFPtr = &binarizedFeatures[binFeatureIndex.BinIndex];
        if (!binFeatureIndex.CheckValueEqual) {
            result = CalcHash(result, (TCatboostCPPExportModelCtrBaseHash)(binFPtr[0] >= binFeatureIndex.Value));
        } else {
            result = CalcHash(result, (TCatboostCPPExportModelCtrBaseHash)(binFPtr[0] == binFeatureIndex.Value));
        }
    }
    return result;
}

static void CalcCtrs(const TCatboostCPPExportModelCtrs& modelCtrs,
                     const std::vector<unsigned char>& binarizedFeatures,
                     const std::vector<int>& hashedCatFeatures,
                     std::vector<float>& result) {
    TCatboostCPPExportModelCtrBaseHash ctrHash;
    size_t resultIdx = 0;

    for (size_t i = 0; i < modelCtrs.CompressedModelCtrs.size(); ++i) {
        auto& proj = modelCtrs.CompressedModelCtrs[i].Projection;
        ctrHash = CalcHash(binarizedFeatures, hashedCatFeatures,
                           proj.transposedCatFeatureIndexes, proj.binarizedIndexes);
        for (size_t j = 0; j < modelCtrs.CompressedModelCtrs[i].ModelCtrs.size(); ++j) {
            auto& ctr = modelCtrs.CompressedModelCtrs[i].ModelCtrs[j];
            auto& learnCtr = modelCtrs.CtrData.LearnCtrs.at(ctr.BaseHash);
            const ECatboostCPPExportModelCtrType ctrType = ctr.BaseCtrType;
            const unsigned int* bucketPtr = learnCtr.ResolveHashIndex(ctrHash);
            if (bucketPtr == NULL) {
                result[resultIdx] = ctr.Calc(0.f, 0.f);
            } else {
                unsigned int bucket = *bucketPtr;
                if (ctrType == ECatboostCPPExportModelCtrType::BinarizedTargetMeanValue || ctrType == ECatboostCPPExportModelCtrType::FloatTargetMeanValue) {
                    const TCatboostCPPExportCtrMeanHistory& ctrMeanHistory = learnCtr.CtrMeanHistory[bucket];
                    result[resultIdx] = ctr.Calc(ctrMeanHistory.Sum, ctrMeanHistory.Count);
                } else if (ctrType == ECatboostCPPExportModelCtrType::Counter || ctrType == ECatboostCPPExportModelCtrType::FeatureFreq) {
                    const std::vector<int>& ctrTotal = learnCtr.CtrTotal;
                    const int denominator = learnCtr.CounterDenominator;
                    result[resultIdx] = ctr.Calc(ctrTotal[bucket], denominator);
                } else if (ctrType == ECatboostCPPExportModelCtrType::Buckets) {
                    auto ctrIntArray = learnCtr.CtrTotal;
                    const int targetClassesCount = learnCtr.TargetClassesCount;
                    int goodCount = 0;
                    int totalCount = 0;
                    int* ctrHistory = ctrIntArray.data() + bucket * targetClassesCount;
                    goodCount = ctrHistory[ctr.TargetBorderIdx];
                    for (int classId = 0; classId < targetClassesCount; ++classId) {
                        totalCount += ctrHistory[classId];
                    }
                    result[resultIdx] = ctr.Calc(goodCount, totalCount);
                } else {
                    auto ctrIntArray = learnCtr.CtrTotal;
                    const int targetClassesCount = learnCtr.TargetClassesCount;

                    if (targetClassesCount > 2) {
                        int goodCount = 0;
                        int totalCount = 0;
                        int* ctrHistory = ctrIntArray.data() + bucket * targetClassesCount;
                        for (int classId = 0; classId < ctr.TargetBorderIdx + 1; ++classId) {
                            totalCount += ctrHistory[classId];
                        }
                        for (int classId = ctr.TargetBorderIdx + 1; classId < targetClassesCount; ++classId) {
                            goodCount += ctrHistory[classId];
                        }
                        totalCount += goodCount;
                        result[resultIdx] = ctr.Calc(goodCount, totalCount);
                    } else {
                        const int* ctrHistory = &ctrIntArray[bucket * 2];
                        result[resultIdx] = ctr.Calc(ctrHistory[1], ctrHistory[0] + ctrHistory[1]);
                    }
                }
            }
            resultIdx += 1;
        }
    }
}

/* Model applicator */
double ApplyCatboostModel(
    const std::vector<float>& floatFeatures,
    const std::vector<std::string>& catFeatures) {
    const struct CatboostModel& model = CatboostModelStatic;

    assert(floatFeatures.size() == model.FloatFeatureCount);
    assert(catFeatures.size() == model.CatFeatureCount);

    /* Binarize features */
    std::vector<unsigned char> binaryFeatures(model.BinaryFeatureCount, 0);
    unsigned int binFeatureIndex = 0;
    {
        /* Binarize float features */
        for (size_t i = 0; i < model.FloatFeatureBorders.size(); ++i) {
            for (const float border : model.FloatFeatureBorders[i]) {
                binaryFeatures[binFeatureIndex] += (unsigned char)(floatFeatures[i] > border);
            }
            ++binFeatureIndex;
        }
    }

    std::vector<int> transposedHash(model.CatFeatureCount);
    for (size_t i = 0; i < model.CatFeatureCount; ++i) {
        transposedHash[i] = CityHash64(catFeatures[i].c_str(), catFeatures[i].size()) & 0xffffffff;
    }

    if (model.OneHotCatFeatureIndex.size() > 0) {
        /* Binarize one hot cat features */
        std::unordered_map<int, int> catFeaturePackedIndexes;
        for (unsigned int i = 0; i < model.CatFeatureCount; ++i) {
            catFeaturePackedIndexes[model.CatFeaturesIndex[i]] = i;
        };
        for (unsigned int i = 0; i < model.OneHotCatFeatureIndex.size(); ++i) {
            const auto catIdx = catFeaturePackedIndexes.at(model.OneHotCatFeatureIndex[i]);
            const auto hash = transposedHash[catIdx];
            for (unsigned int borderIdx = 0; borderIdx < model.OneHotHashValues[i].size(); ++borderIdx) {
                binaryFeatures[binFeatureIndex] |= (unsigned char)(hash == model.OneHotHashValues[i][borderIdx]) * (borderIdx + 1);
            }
            ++binFeatureIndex;
        }
    }

    if (model.modelCtrs.UsedModelCtrsCount > 0) {
        /* Binarize CTR cat features */
        std::vector<float> ctrs(model.modelCtrs.UsedModelCtrsCount);
        CalcCtrs(model.modelCtrs, binaryFeatures, transposedHash, ctrs);

        for (size_t i = 0; i < model.CtrFeatureBorders.size(); ++i) {
            for (const float border : model.CtrFeatureBorders[i]) {
                binaryFeatures[binFeatureIndex] += (unsigned char)(ctrs[i] > border);
            }
            ++binFeatureIndex;
        }
    }

    /* Extract and sum values from trees */
    double result = 0.0;
    const unsigned int* treeSplitsPtr = model.TreeSplits.data();
    const double* leafValuesPtr = model.LeafValues;
    size_t treePtr = 0;
    for (unsigned int treeId = 0; treeId < model.TreeCount; ++treeId) {
        const unsigned int currentTreeDepth = model.TreeDepth[treeId];
        unsigned int index = 0;
        for (unsigned int depth = 0; depth < currentTreeDepth; ++depth) {
            const unsigned char borderVal = model.TreeSplitIdxs[treePtr + depth];
            const unsigned int featureIndex = model.TreeSplitFeatureIndex[treePtr + depth];
            const unsigned char xorMask = model.TreeSplitXorMask[treePtr + depth];
            index |= ((binaryFeatures[featureIndex] ^ xorMask) >= borderVal) << depth;
        }
        result += leafValuesPtr[index];
        treeSplitsPtr += currentTreeDepth;
        leafValuesPtr += (1 << currentTreeDepth);
        treePtr += currentTreeDepth;
    }
    return result;
}
