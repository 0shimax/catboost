###  Model data
class catboost_model(object):
    float_features_index = [
        0, 1, 2, 3, 4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 26, 27, 31, 32, 33, 34, 35, 36, 37, 38, 39, 46, 47, 48, 49,
    ]
    float_feature_count = 50
    cat_feature_count = 0
    binary_feature_count = 39
    tree_count = 40
    float_feature_borders = [
        [0.00092654896, 0.33330449],
        [0.0071699149, 0.0114448, 0.053003252, 0.05771105, 0.0622565, 0.068122499, 0.1254825, 0.138787, 0.18692601, 0.2343325],
        [0.02119715, 0.03567325, 0.26877397, 0.90201151, 0.93767154, 0.93831098],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.33529401, 0.66078448],
        [0.32183897, 0.57890052, 0.66939902, 0.913037, 0.95771205],
        [0.01041666, 0.051757798, 0.075502649, 0.089379355, 0.2284745, 0.24737799, 0.250328, 0.39003402],
        [0.06475205, 0.070463002, 0.077536345, 0.119033, 0.1199285, 0.122849, 0.13628601, 0.237433, 0.29751498, 0.29760849, 0.37005252],
        [0.5],
        [0.5],
        [0.26470602, 0.47254902, 0.48039198, 0.5, 0.51960802],
        [0.5],
        [0.5],
        [0.097222149, 0.27777749, 0.58333349, 0.83333349],
        [0.022629999, 0.052245799, 0.223333, 0.22895449, 0.94054997, 0.95256799, 0.977382],
        [0.5],
        [0.5],
        [0.061012201, 0.095004097, 0.17011049, 0.335482, 0.41512451, 0.64323902, 0.65397501],
        [0.5],
        [0.099808, 0.127435, 0.14488, 0.15569, 0.22281301, 0.25707501, 0.54161251, 0.56904697, 0.78233099, 0.878676, 0.94102502],
        [0.5],
        [0.25577599, 0.60776651, 0.7837165],
        [0.5],
        [0.0012634799, 0.00143194, 0.0036219701, 0.010276251, 0.035124701, 0.1600275],
        [0.65469301, 0.86948645, 0.97597551, 0.97901797],
        [7.4864751e-05, 0.00032979899, 0.00038780703, 0.00040105497, 0.00071648997, 0.00074743002, 0.0047986051, 0.0066647353],
        [0.138771, 0.26732901, 0.312599, 0.322575, 0.323827, 0.33873349, 0.65224147],
        [0.39747551, 0.41697949, 0.68333799, 0.69472051, 0.71177602, 0.75300753, 0.77230752, 0.77863848, 0.98348296],
        [0.01705455, 0.157988, 0.160335, 0.2226765, 0.2312215, 0.26409501, 0.30029351, 0.32804, 0.3445805, 0.3670935, 0.46864849, 0.78759152, 0.79704249, 0.88528299],
        [0.5],
    ]
    tree_depth = [6, 6, 6, 6, 3, 6, 3, 6, 5, 6, 6, 6, 6, 6, 6, 2, 6, 6, 6, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 3, 5, 4, 5, 6, 6, 6, 6, 6, 6, 6]
    tree_split_border = [1, 9, 5, 2, 6, 1, 6, 1, 1, 1, 1, 1, 2, 2, 1, 6, 1, 1, 2, 4, 1, 1, 1, 1, 1, 5, 1, 1, 6, 1, 2, 1, 8, 1, 1, 1, 1, 3, 3, 4, 1, 1, 1, 1, 2, 8, 1, 8, 1, 5, 1, 1, 5, 1, 5, 7, 1, 1, 1, 5, 1, 1, 4, 3, 7, 4, 3, 12, 1, 1, 1, 14, 1, 1, 1, 2, 5, 5, 1, 1, 4, 4, 1, 6, 1, 1, 1, 1, 3, 4, 1, 1, 1, 1, 4, 8, 7, 1, 4, 3, 4, 11, 4, 5, 1, 5, 3, 1, 2, 1, 1, 6, 2, 1, 2, 1, 5, 7, 6, 1, 2, 1, 3, 1, 4, 1, 3, 1, 1, 3, 1, 4, 4, 1, 9, 1, 1, 1, 9, 3, 1, 3, 5, 10, 1, 3, 2, 1, 10, 1, 7, 8, 1, 3, 1, 3, 4, 3, 1, 6, 1, 1, 1, 1, 1, 7, 8, 8, 11, 1, 1, 1, 11, 1, 1, 1, 1, 1, 1, 5, 7, 7, 1, 1, 2, 1, 6, 2, 4, 13, 2, 2, 1, 5, 1, 10, 2, 6, 6, 1, 1, 3, 1, 2, 4, 2, 1, 6, 10, 1, 1, 6, 6, 6, 7, 7, 1, 9, 3, 9, 1]
    tree_split_feature_index = [27, 1, 14, 34, 37, 18, 36, 4, 22, 10, 8, 3, 28, 36, 38, 26, 35, 34, 26, 35, 21, 3, 16, 22, 9, 37, 31, 33, 15, 9, 2, 24, 36, 18, 9, 27, 17, 36, 33, 36, 10, 9, 31, 21, 15, 1, 27, 37, 27, 28, 28, 10, 35, 31, 16, 37, 4, 11, 27, 23, 31, 6, 16, 22, 28, 1, 19, 37, 31, 20, 24, 37, 4, 21, 20, 33, 34, 26, 27, 6, 33, 37, 38, 36, 18, 7, 10, 3, 37, 28, 4, 6, 21, 26, 22, 28, 26, 29, 32, 2, 26, 16, 34, 1, 11, 36, 16, 21, 19, 5, 10, 2, 16, 3, 13, 30, 15, 1, 23, 21, 1, 11, 30, 13, 14, 9, 26, 38, 31, 22, 3, 23, 19, 29, 37, 14, 19, 24, 16, 34, 23, 32, 32, 37, 10, 15, 14, 0, 16, 12, 15, 16, 15, 35, 1, 23, 19, 1, 24, 32, 31, 3, 25, 24, 27, 36, 15, 34, 28, 31, 31, 2, 37, 20, 27, 3, 31, 21, 25, 2, 35, 16, 11, 3, 37, 36, 34, 23, 2, 37, 35, 0, 37, 19, 11, 1, 22, 1, 36, 29, 11, 28, 21, 32, 15, 30, 9, 35, 28, 38, 10, 37, 16, 28, 23, 34, 32, 28, 14, 36, 10]
    tree_split_xor_mask = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    cat_features_index = []
    one_hot_cat_feature_index = []
    one_hot_hash_values = [
    ]
    ctr_feature_borders = [
    ]

    ## Aggregated array of leaf values for trees. Each tree is represented by a separate line:
    leaf_values = [
        0.0006955065930426542, 0, 0, 0, 0.0001810344794829344, 0, 0, 0, 0.001098490266995831, 0, 0.001589791657724417, 0, 0.001828124975902028, 0.001679999969601631, 0, 0, 0.001329545421779833, 0, 0, 0, 0.0005833335090428549, 0, 0, 0, 0.001529906971799882, 0.00269666736505924, 0.002342030875375432, 0.001938461503386497, 0.001049999981001019, 0.001049999981001019, 0.0008765624896273946, 0, 0.0002999999945717198, 0, 0, 0, 0, 0, 0, 0, 0.0003187499942324523, 0, 0.001949999964716179, 0, 0.0005249999905005097, 0, 0, 0, 0.001469999973401427, 0.002677381649373881, 0, 0, 0, 0, 0, 0, 0.001873529377864564, 0.003867032899167183, 0.003096296610434842, 0.003725676117001744, 0, 0.001679999969601631, 0, 0,
        0.0006982795337251036, 0, 0, 0, 0.0004140269530082293, 0, 0, 0, 0.000228045619107548, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0009179783236801756, 0.004755924048153645, 0.001566909289921064, 0.002035708918338523, 0.0007676849182978572, 0.002487475692542658, 0.0005208372840066653, 0.0024006384178372, 0.0005134157523437949, 0, 0.0009316294913245664, 0.0005135256884684811, 0, 0, 0, 0, 0, 0, 0.00191797439944338, 0.003727659281110782, 0, 0, 0.002112067698191821, 0.003495110258087365, 0, 0, 0.000791394002761522, 0.001031641075398032, 0, 0, 0.0006124347462520387, 0,
        0.0005854803330182034, 0, 0.001033217344688396, -4.224255830015999e-05, 0.0001373756623913168, 0, 0.0017857818623373, 0.001652186957968051, 0, 0, 0, 0, 0, 0, -5.574979148535147e-05, 0.0058206454031489, 1.538898030885397e-05, 0, 0, 0, -1.400181932073082e-05, 0, 0, 0.0005645737001485225, 0, 0, 0, 0, 0, 0, 0, 0, 0.001772664508941336, 0, -2.09363072936226e-05, 0, 0.0008202907218301708, -1.696811874296087e-05, 0.001985439183239056, 0.003136135679199817, 0, 0, 0, 0, 0, 0, 0.0009930397909220941, 0, 0.001204412045422001, -2.445006844641543e-05, 0.001413008112065112, 0.0008653945900056235, 0.001579962618039908, -6.481939812892932e-05, 0.002448685123352288, 0.002441565611180726, 0, 0, 0, 0.003585442183975276, 0, 0, 0.003087934814474935, 0.003066702861694857,
        0, 0, 0, 0, 0, 0, 0, 0, -3.447320386305723e-05, 0, -7.972567302294395e-05, 0.0004497280587470283, 0.001967851454455745, 0.0005594248941234931, 0.001101408977873142, 0.001596294821085301, 0.0005660697077340812, 0, 0, 0, 0.0006292485700426646, 0, 0, 0, 0.0005532016760419782, 0.002448361898806956, 0.00127424656044627, 0.0004403784408179188, 0.001173484100663922, 0.00309711840341067, 0.001711119240220662, 0.003462345305695422, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001142355474609559, 0, 0.001246657376502972, 0, 0.001554726428457639, 0, 0.002223777396411632, 0, 0, 0, 0, 0.0004020328658440009, 0, 0, 0, -3.163100853852192e-05, -7.35278141197898e-05, -5.446060189040749e-05, 0.0002380881582911511, 0.001080617887344675, 0.002374036929581485, 0.001719682149098517, 0.00367223679403681,
        0.0007093449218204413, 0, 0.001485450143134356, 8.225970117145716e-05, 0.0009439244449969399, 0.001274066634171463, 0.002240789565951944, 0.001169090059098874,
        0.0005479928896207745, 0.00103391220527744, 0, 0, 0, 0, 0, 0, 0.0003361453975382014, 0, 0, 0, 0, 0, 0, 0, 0.0008476856094189089, 0.001724967958901285, 0.002500791278272796, 0.001325779378933635, -5.725009997724181e-05, 0, -4.997156680171328e-05, 0, 0.001646125339013036, 0.001368022720517657, 0.002655758206420806, 0.0007069635139597388, 0.001155060978703262, 0.0009792673860209427, 0, 0.0001588408309515711, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0009500161112166574, 0, 0, 0, 0, 0, 0, 0, 0.003066260554724208, 0.003524420882893921, 0.003533127485075299, 0.002728901884401213, 0, 0.0009531376334098539, 0, 0,
        0.001298921171723139, 0.001294820614026468, 0.001088735649033652, 0, 0.002302896744903705, 0.003331572839501321, 0.000945989101319062, 0,
        0.001354715305620505, 0.001286632013920172, 0.001862304517731267, 0, 0.0009888934756211042, 0.00037620807314837, 0, 0, 0, 0, 0.003022492598652041, 0.003207019924795073, 0, 0, 0.002463150913991746, 0.0008996765352086278, 0.0005391558514919545, 0.000665178362489169, 0, 0, -8.157795964707804e-05, -7.900992896040533e-05, 0, 0, 0, 0, 0.001581657619565069, 0, 0, 0, 0.0005301379125682334, 0, 0.0007184523718047867, 0.000963757363604709, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0009388941832177529, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.00050686791388976, -0.000210342361591143, 0.0005064460327784143, 0.0009527486836903274, 0.0004922593093994008, 0.0008161472735440628, 0.0008122995969607683, 0.00125607077216147, -6.75692299365733e-05, 0.0004550512046629911, 0.001709076222929924, 0.001852535789604827, 0.0007123449509787189, 0.001678079783959325, 0.001770281540595232, 0.002050581692085641, 0, 0.002729775225385737, 0, 0.002499775182936823, 0, 0.0003782803783167661, 0, 0.003219392341113953, 0, 0, 0, 0.001385321939065319, 0, 0.0002348225560163428, 0, 0.003181709961204842,
        0.0007663400523956863, 0.002270412818557616, 0, 0.002378892119095559, 0, 0, 0, 0, 0.0003753023243034871, -3.008207661763875e-05, 0, 0.002608686696728803, 0.003323451032814579, 0.00107443296793949, 0.001430816136766986, 0.00201637571359648, 0.0005135409882306215, 0.000146689908472046, 0, 0, 0, 0, 0, 0, 0.0004341076901034599, -8.867078112445771e-05, 0, 0, 0, 0.0006707538274732815, 0, 0, 0.0005301902256610113, 0.001631111596495352, 0, 0.002205209121876724, 0, 0, 0, 0, 0, 0.00076123981107789, 0, 0.003248702857835822, 0, 0.00173919123382635, 0, 0.003313606776516547, 0.0003001677773384566, 0.0006610961949219053, 0, 0, 0, 0, 0, 0, 0, 0.0004560681108463908, 0, 0, 0, 0.0004407497739237353, 0, 0,
        0, 0, 0.0003548380371822378, 0.0003577886516288047, 0, 0, 0.0008402319839244694, 0.001578095184891311, 9.039911807793174e-05, 0.001160023412065767, 0.0007215278815785953, 0.001023073418069835, -0.00015289809723092, 0.0003593158758444571, 0.001533664999148671, 0.001960158772118245, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001948580764822998, 0, 0, 0, 0.0002366653538602831, 3.741671677160968e-06, 0, 0, 0, 0, 0, -0.0001957068974180883, 0, 0.002690730959078855, 0, 0, 0, 0.001413063036498389, 0, 0.002627400971894758, 0, 0.002969901487669937, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0013371732408148,
        4.992568336004502e-05, 0.0001057793512690562, 0.0008612784378306338, 0.001656751690383212, -0.000170825961682223, -0.00011382482850948, 0.0005882508119633972, 0.001357901215442189, 0.001024969890629985, 0.0003960489002860512, 0.001293227853017115, 0.001546475926925807, 0.00147636557975139, -0.0001310468783149905, 0.002196848768679617, 0.003074928625603508, 0, 0, 0, 0, 0, 0, 0.0005517555728704285, 0.002523728399648967, 0.0009035620582088533, 0, 0.0006815740414902252, 0.002009500193235511, -0.0001334088393657587, 0, 0.001360568260480278, 0.001918189677354054, 0, 0, 0.0004471341976275555, 0, 0, 0, -0.0002382286350795467, 0.001262598737573043, 0, 0, 0.001542515206718139, 0.001009947436584085, 0, 0, 0.003264557396447119, 0.00225599717621041, 0, 0, 0, 0, 0, 0, 0, 0.001248936152745792, 0, 0, -0.0002210073950101126, 0, 0, 0, 0, 0,
        -0.0001023956831920968, 0, 0, 0, 0, 0, 0, 0, -0.0002176007902811172, 0, 0, 0, 0, 0, 0, 0, 0.0007086887962851906, 0, -3.459445417602697e-05, 0, 0, 0, 0, 0, 0.0009644274053083302, 0, -7.823513282826701e-06, 0, 0, 0, 0, 0, 0.0006744466818574503, 0.001352467692753051, 0, 0, 0, -0.0001909030585917763, 0, 0, 0.001018255588301403, 0.002164593343248617, 0, 0, -0.0002757415651776049, 0.001682246644719256, 0, 0, 0.0004718527979931294, 0.001512730351655221, 0.0003712888404876441, 0.0007361504027821975, 0, 0, 0, 0.0003011816744437382, 0.001107652689438104, 0.002251645117730719, 0.0005970584418758163, 0.0007427548039271953, 0.004315204560103453, 0.002377434520905886, 0.005173223380549734, 0.002099617000557995,
        0.000234134578711815, 0, 0.0001201035631423506, 0, 9.952031930983996e-05, -0.0002736735034849977, 0.0004074274007155468, 0, 5.524308756787724e-05, 0.004265592747495914, 0.00037376016246672, 0, 0.0005200438849681766, 0, 0.0006032669569108849, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.002982227590890679, 0.0002264033401548999, 0, -0.0001220466120892027, 0, 0.0006991681540913634, 0, 0.0004670634078427178, 0, 0.001981008383021703, 0.000504621405509966, 0.002815505115532977, 0, 0.0004462568121587796, 0, 0.001200247037928482, 0, 0.001359180438354325, 0.00221120847372626, 0, 0, 0, 0.000277160619490316, 0, 0, 0.001726347582144346, 0.0007672530799142085, 0, 0, 0.0006612352593694756, 0.0008402297454333962, 0, 0, 0.001490556919653711, 0.003534915320201849,
        0.0004945635724705373, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006981287778835841, 0, 0.0004120990642427742, 0.003177044974949013, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000509571614373457, 0, 0, 0.0008695286733464366, 0.001020250026229636, 0, 0.0008146387012859207, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001315942082778466, 0, 0.001555181514444824, 0.003207662151257693, 0.001095140120283906, 0, 0.002798001972041554, 0.002653208753175508, 0, 0, 0, 0, 0.0003665175706633719, 0, 0, 0.0007650550367826745,
        0.0009771473103967053, 0.002112985495551723, 0.001009638019231988, 0.00281360856360128,
        0.0003882676793956215, 0, 8.600772828137903e-05, 0, 0.0003183226198498299, 0, 0.0003082760118315476, 0, 0, 0, 0, 0, 0.0004672966433791189, 0, 0.0001055291679039928, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00263829882081097, 0, 0, 0, 0, 0, 0, 0, 0.0003894540003933202, 0.00281194419356639, 0.0007509778715195579, 0, 0, 0, 0, 0, 0.001304184240397367, 0.001198642400461245, 0.0004306834246318865, -0.0001537784967285522, 0, 0, 0, 0, 0.002009400257603465, 0, 0, 0, 0, 0, 0, 0, 0.001275120289045191, 0.002673366424505464, 0.0003799404780478235, 3.424025800949541e-05,
        0.0006105972076242453, -0.000112807854161853, 0.0009027407264263681, 0.0009853442055525624, -5.283637830211746e-05, 3.053888252132124e-05, 0.00217505203372109, 0.00252187708501134, 0, 0, 0.0008040171225385406, 0.0005211550930894961, 2.483921495645917e-05, 0.0002584737222534088, 0.001081613842986211, 0.002420067194230009, 0, -0.0001602437150924681, 0.001176283322483982, 0.001560341796870688, 0.000640231642631676, 0.0001651060008482395, 0.001198213670140826, 0.001517321674280184, 0, 0, 0, 0, 0, 0, -0.0002695375333781316, 0, 0, 0, 0, 0, 0.004168654032538919, 0, 0.002691258257185655, 0.001392482340127223, 0, 0, 0, 0, 0, 0.0007023964487941704, 0.003073497548951144, 0.002102109441121811, 0, 0, 0, 0, -0.0004749910534922657, 0, 0, 0.001913795036110531, 0, 0, 0, 0, 0, 0.0002140305381955891, 0, 0.0006701658934054427,
        0.0002388377183218093, 0.0005173352791913063, -4.822854806929036e-05, 0.0007556221463305983, 0, 0.001214657373473093, 0, 0.0003226276080974303, 0, -0.000469291160977761, 0, 0, 0, 0, 0, 0.004184918495644425, -0.0001647430732549279, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001090394667312403, 0.001012570837774022, 0.0005716180820329149, 0.001705678809611154, 0, 0.001540993400127313, 0, 0.001530694302199189, 0, 0, 0, 0.0007239629394248636, 0, 0.0009337653752962882, 0, 0.002808912542052374, 0.0008016194631159209, -0.0003275599996528268, 0, 0, 0, -0.0002041554472278399, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        -0.0002304385605085996, -0.0003896031228914087, 0, 0, 0, 0.0009561061239636114, 0, 0, 0.0004730885118978669, 0.0007684012204400145, 0.0009232699673664591, 0, 0.002350951770675362, -0.0003318545618823757, 0, 0, 0.001257658374102097, -0.0005615725682073171, 0, 0, -0.0003648370922901743, 0.001536179745022135, 0, 0, 0.0005536984605963609, 0.001579390511941892, 0.0006076512975057355, 0.000956935143676809, 0.001981913814250664, 0.002521043802952265, 0, 0.001147356439301892, -0.0001785866359274538, -0.0004132925881352174, 0, 0, 0, 0, 0, 0, -2.778788544580605e-05, 0.0005400137614100821, 0, -0.0001903418809444635, 0, 0, 0, 0, 9.405934260026076e-06, -0.0004498197032787958, 0, 0, 0.0006553204882802085, 0.000708244452397934, 0, 0, 0.0003512155083701583, 0.0007457886140888055, 0, -4.440400675545474e-05, 0.002859351671997461, 0.001515769538008537, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0.0003336385020081302, 0, 6.534909667677611e-05, 0, 0, 0, 0, 0, -0.0002046866944204509, 0.0002960740582415538, -0.0001261075862740556, -0.0003078666632486801, 0, 0, 0, 0, 0.0008471259113459128, 0.001576258533366962, 0.0004169606225378612, 0.0001952694653358778, 0.002972656104477656, 0.003415359626464723, 0, 0,
        0.0001400216681619245, -0.0002140382220227067, -0.0002705471277954263, 0.0007958141526780768, 0.0001151409478971949, 0.0001498768636104665, 0.001839209057195778, 0, -4.991344020792675e-05, -0.0001937087034471105, 8.10814386772633e-05, -0.0001686977784591321, 0.0003011149831395627, 0.002879867362542532, 0.00234632495894318, 0, -0.0001083663693560881, 0, 0.002022209228887353, 0, 0, 0, 0, 0, 0.0001865011596435656, 0, 0.0001824972973428302, 0, 0, 0, 0, 0, 0.0004866690950020751, 0.0001751211940345364, 0.0009205291151776974, 0.0004009795392942751, 0.000543560600302566, 0.0006040956484870706, 0.0007567368673744949, 0.0002145394163277562, 0.001124740802027974, 0.0006763994115739903, 0.001418450691909604, 0.0002861064089195364, 0.001607556010720592, 0.001163907464355621, 0.001958394853477321, 0.0001155651245112773, 0.001791668178921673, 0, 0.001945174267492513, 0.001943359645242621, 0, 0, 0.002818879443413556, 0, 0.001749328769869516, 0, 0.001430152605313006, 0, 0.001691897508950107, 0, 0.002853893351224994, 0,
        -4.112996882485646e-05, 0.0008554265513524673, 0, 0, -0.0003675859573806357, 0.0005693782988888871, 0, 0, 0.0003592532907111536, 0.001134357648300642, 0.001460744031777529, 0.0006452129058118292, 0.0007017021320825264, 0.001024306690534611, 0, -8.999272136238956e-05, -0.000441049640959779, 0.001040007364716131, 0, 0, -0.0001226248860033051, -0.0002212643501350458, 0, 0, -0.0002662143220516566, 0.0008406636520370156, 0, 0.0008571685444785925, 0.0001573183863487143, 0.001961803815630984, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8.891167151537532e-05, 0, 0, 0, 0.000816507410381251, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0008302784717468939, 0.0004926777051391898, 0, 0, 0, 0, 0, 0,
        0.000139111302085078, 0, 0, 0, 0.0006306577853027696, 0, 0, 0, 0.000416969748062993, 0, 0, 0, 0, 0, 0, 0, 0.000607972651894052, 0, 0.0007712330803556495, 0, 0.000304313201570388, 0, 0.000776212083211701, 0.0008934998654438686, -0.00022251887328535, 0, 0.0008558705242682796, 0, 0, 0, 0, 0.0007090370897270048, 0.0001742109157287193, 0, 0, 0, 0.0001913540839221292, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0003752824053852678, 0, 0.0006368067860256794, 0, 0.0001919139784379219, 0.0007487651913594051, 0.001170262145197657, 0.002235265824908697, -0.0001867508158366084, 0, 0.0002701896042120949, 0, 0.0004783528010058443, 0.001240681899987475, 0.001409540954199469, 0.001894904416678398,
        -0.0002050458321898323, 0, -0.000241828669993543, 0, 0, 0, 0.000323702054068767, 0, -0.0001094058035019929, 0, 0, 0, 0, 0, 0, 0, -0.0001529387862568578, 0, 0, 0, 0, 0, 0.0008446853225217093, 0, 0.0007038561776052141, -0.0001096688840992662, 0, 0, 0, 0, 0, 0, -0.0001764495184448166, 0, 0, 0, 0.0009451157925860034, 0, 0.001360824412216357, 0, 0.0005572518481759095, 0, 0.00131430091507982, 0, 0.001388922891947932, 0, 0.00136925777465849, 0, -0.0002852867605597619, -0.0001688553776302309, 0, 0, 0.0006821063126058172, 0.0004672300079398296, 0.001215691137514904, 5.123340596237737e-05, 0.0004212291352131628, -6.756374797302388e-05, 0.0008801701884257606, 0.0004362520277921975, 0.001542416951149484, 0.0007796616317600068, 0.001578758313482599, 0.0004328244166107097,
        0.0006277952809680957, -0.0002257978237210259, 0.002618745803346507, 0.0006937741035558375, 0.0002344494087691788, -0.0001988656774334726, 0.0007687437672652222, 0.0003889958907115267, 0, 0, 0, 0, 5.253926495003009e-05, -0.0002348182113202582, 0.0009906614784433694, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000115480512080973, 0, 0.0002681326960878526, 0, 0, 0, 0.002832640594926224, -0.0003589228549224601, 0.001085363682896998, -0.0001658634888855701, 0.000801242625081713, 0.001349481892358382, 0, 0, 0, 0, -0.0002194938888043422, 0, 0.002099813274506673, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.003715668660971817, 0, 0.002096522017481629, 0,
        -0.0003986038721052987, 0, 0.0004488519805108351, 0.0001068150360729369, -0.0003417336517933608, 0, 0.0003196167285160682, 0.0005934415454447964, 0.0007601920947351626, -0.0002983443540069011, 0.0006614751847415962, 9.517166083947701e-05, 0.0006715353919441436, 0.0005673501995776245, 0.001554471410824417, 0.0001112643290719322, -0.0001947768621999528, 0, 0.0007314735343217547, 0, -0.000232063284463543, 0, -0.0004637585341058988, 0, -0.0004825079585360774, 0.0003743642235226389, 0.000685201100603326, -0.0004744847230024744, 0.0003841905649654891, -0.0001119334232851028, 0.0005175288416972271, 0.0005451510633307686, 0, 0, 0.0008091411418114225, 0, 0, 0, 0, 0, -0.0002557729311212652, -0.0002058906606199269, 0.0006653550657911182, 0, 0.001465160478059823, 0.0008699990223980465, 0.00239672257045674, 0.0006263078552310524, -0.000125603256558921, 0, 0, 0, 0, 0, 0, 0, -0.0002085779079632623, 0, -0.0003546157807596612, 0, 0.0005581339801174711, 0, 0.0005302398226774711, 0,
        0.0009644782146810287, 0, -0.0001658664083721111, 0, 0.0006623412990602629, 0, -0.0001820848880335853, 0, 0, 0, 0, 0, -0.0001972849851824913, 0, -0.0001551819928584117, -0.0001685009789727051, -0.0001102960349878876, 0, 0, 0, 0.000440021740959205, -0.0002157834360666158, 0.0006342550275626116, 0.0009526509077358559, 0, 0, 0, 0, 0.0006199424791541854, 0.0007809385698748685, 7.93829771999803e-05, 0.001597410786697305, 0.00134402660322412, 0, -0.0001050397170188917, 0, 0.0001072793974210469, 0, -0.0003640176421780503, 0, 0.0003319634341579164, 0, 0, 0, -0.0004207359397144566, 0, -0.0001750040900116757, 0, 0, 0, 0, 0, 0.001043716804708409, -0.0001812680334111526, 0.000319512504405063, 0.002416595579292995, 0, 0, 0, 0, 0.001017976653191354, 0.001485380848328793, 0.000814772390194595, 0.0015129271895014,
        0.0002248092343126804, -0.0001366850379018846, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0004137174518206829, -4.727501718963761e-05, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0002191206853048352, -3.232485242593424e-05, 0.0009347060647311815, 0.0003267521310083403, 0, 0, 0, 0, 0, 0, 0, 0, 0.0003318947495561388, 0, 0, 0, 0.0008354658991652907, 0.0003342086295523132, 0.001594151085239992, 0.0002981828334846467, 0, 0, 0, 0, -0.0005042863828819626, 0.0005078790577711587, 0.0008468715199256475, 0.0009542990492877219,
        0.0002652830569570294, 0, 0.0005627534236226786, 0.0008882721147578601, 0, 0, 0.001901281059291341, 0.001231804233126599,
        0.0001758435359985152, 0, 0.001785427692484437, 0, 0.0007284097732312904, 0, 0.001519730086640119, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0003960885981985492, 0.001941461734249054, 0.002456547475530708, 0, 0.001192254004457991, 0.002080120728240418, 0.001111969579779399, 0.0008128422484442758, 0, -0.0003667164150314334, 0, 0, 0, 0, 0, -0.000489986450686986,
        0.0005122771107451942, 0.0004275578973729031, 0.0007069628497725609, 0.001361211251580726, 0.0005065686478851419, 0.0009589347778398553, 0.0003256093162140406, 0.001343707326242404, 0.0003945822547367424, 0.0005137711933213636, 0.0002615035866189735, 0.0006592344440976661, 0.0006849174343198007, 0.001117860327795225, 0.0007594622409936793, 0.001331654104054237,
        0.0003242677763843509, 0, 5.652201279592611e-05, 0, 0, 0, -7.507264286959576e-05, -4.490200830875433e-05, 9.785718696456654e-05, 0, 0.0004642938785304099, 0, 0.0003047712020339846, 0, 0.0006683024995390061, 0.001900028101508045, 0, 0, 0.0001174901761224917, 0, 0, 0, 0.00107058140449812, 0.00211475757640522, 0, 0, 0.0007763368423252487, 0, 0, 0, 0.001065537671105802, -0.0001795279010736662,
        0, 0, 0, 0, 0.0002124621866138824, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006558991375628655, 0, 0, 0, 0.0002235724540683141, 0.0006788800345850244, 0, 0, 0, 0, 0, 0, 0.0008677019353293104, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006220910699922944, 0.001401277290779063, -7.52440633128775e-05, 0, 0.0006660754420553437, 0.005138980187358218, 0.001642784904624055, 0, 0.0006341997330156847, 0, 0, 0, 0.0005007217569002345, 0, 0, 0,
        0.0006987534556525986, 0, 0.001417981652277185, -0.0002673168976083895, 3.646615029832362e-06, 0.0009142431492989393, 0.0004092355721577368, 0.001165797562553266, 0, 0, 0, 0, 0, 0, -0.0002660934202663195, 0.0006737884344394429, 0, 0, 0, 0, 0, -0.0007945589055610994, 0, 0.001333653003268961, 0, 0, 0, 0, 0, 0.004672136587188182, 0, 0.0004753185729804623, 0.0008420902841413306, 0, 0.001487847691882372, 0.0006212610194646475, -1.859696562071145e-06, 0.0005744426265423148, 0.0006788124013904722, 0.000800192049978129, 0, 0, 0, 0, 0, -0.0003735753096399916, 0, 0.004286615261241383, 0, 0, 0, 0, 0, 0, -0.000133128767379744, 0.001315756068816175, 0, 0, 0, 0, 0, 0, 0, 0.001815982217026633,
        0.0002421804973096305, 0.0003820938962330345, 0.0004519771432318968, 0.001126532341959583, -0.0002540721832529061, -0.0001193376847709241, 0.0001252292554823316, 0.0002446165611668942, 0, 0, 0.001227239786913543, 0, 0, 0, 0, 0, 0, 0, 0.001163781848273701, 0.001811628296890765, 0, 0, 0.0003880081908963986, -0.0004319600267482321, 0, 0, 0, 0, 0, 0, -0.0004496611043483323, -3.992705939575031e-05, 0.0003835615259512237, -0.0001533652472881607, 0.0006004799740626165, 0.001239367189100636, 0, 0, -0.0001030179652625338, 0.001015380764338919, 0, 0, 0, 0.0008787383435133045, 0, 0, 0, 0, 0, 0, -9.563301423692869e-05, 0.00116417163793161, 0, 0, -0.0002889782163046352, 0.0006552130855901739, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0001788993210672917, 0.0005670632903394302, 0, 0, -0.0006936835112568242, -0.0001201701886620313, 0, -0.0005023731947467412, 0.0008360344561222855, 0, 0, 0, 0, -0.0002693858923725086, 0, 0, 0, 0, 0, 0, 0.0004853529887525626, 5.664029384617484e-05, 0.002030389535443036, 0.0001164872109381551, 0, 0, 0, 0, 0, 0, 0, 0, 6.238510045108355e-05, 0.0009432848129980831, 0, 0, 0.0006149637888270428, 0.0006833382456548443, 0.001274129106824845, 0.00113357362180664, 0.000471578862984028, 0.0007777504884259504, 0, 0, 0, 0.0001147620175749542, 0, 0.0005722778401167967, 0, 0, 0, 0, 0.0005262376706082931, 0.0006709552449792649, 0.002211880048042812, 0.002131995351808179, 0, 0, 0, 0, 0, -0.0003021989568097946, 0, 0.0005129640144167543,
        0.0001854374249908739, 0.0007015140972505262, 0.0003156789950173887, 0.000848019334767412, 0.0003344089702913566, 0.001473450787332492, 0.0006141725910180992, 0.0007252745432277957, 0, 0.0006503112971368291, 0, -0.0002207037756291796, 0.0007568812788189995, 0, 0, 0, -0.0004071305079125153, 0.0001379071195416563, 0.0006802721574345375, 0.00190195165241566, -0.0005885630524579679, 0.0006574529293793392, 0.0007386713370831672, 0.001028080843103928, 0, 0, -0.0002476365785040485, 0, 0, 0, 0.0007585203859587377, 0, 0, -0.0002144251253978697, 0, 0.0005424613414879379, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0004836618957681053, 8.058944690778302e-05, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0.0001383308400668129, 0, -0.000376923104536136, 0, -2.489977231974763e-05, 0, -0.0005273988178809062, 0.0001898164125340681, 2.637446935015084e-05, -3.949511954828146e-05, 0.0002509145786864598, 0.0005935239723086182, 0.001072375470534411, 0.0001103294862786543, 0.0001157110013691873, 0, 0.001420095731537003, 0, 0, 0, 0.0003605912208319444, 0, -0.0004605180084554682, 0, 0.001776553251351381, 0, 0, -0.0004461867603983391, 0.001735190420814264, 0, 5.659489514716235e-06, 0, 0, 0, 0, 0, 0.001756686488447413, 0, 0, 0, -0.0001158558007716718, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0005071169023017622, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0001217705988230169, 0.0003977604942772885, 0.000418798596876388, 0.002186221195843041, -0.0002834282508149192, -0.0003159385575793341, 0, 0.0005906632169003529, 0.0004034485784660064, 0.001373361051164832, 0.0002738952797324067, 0.001584029683532784, 0.0001272276097097817, 0.0005654615871201392, -0.0001700256944100642, 0.0001518716977582259, 0, 0, 0.005932157525595388, 0.0005775380451646604, 0, 0, 0, 0, 0, 0, 0, 0.001220594730602671, 0, 0, 0, 0.0003896601348113309, -0.0001390776608921008, -0.0002001216597027241, 0, 0.000270053149290169, 0, 0, 0, 0, 0.0002233321685036758, 6.055304790121765e-05, -9.727415609655555e-05, 0.0006046926848936557, 0, 0.0002047647588617098, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    ]
cat_features_hashes = {
}

def hash_uint64(string):
    return cat_features_hashes.get(str(string), 0x7fFFffFF)


### Applicator for the CatBoost model

def apply_catboost_model(float_features, cat_features=[], ntree_start=0, ntree_end=catboost_model.tree_count):
    """
    Applies the model built by CatBoost.

    Parameters
    ----------

    float_features : list of float features

    cat_features : list of categorical features
        You need to pass float and categorical features separately in the same order they appeared in train dataset.
        For example if you had features f1,f2,f3,f4, where f2 and f4 were considered categorical, you need to pass here float_features=f1,f3, cat_features=f2,f4


    Returns
    -------
    prediction : formula value for the model and the features

    """
    if ntree_end == 0:
        ntree_end = catboost_model.tree_count
    else:
        ntree_end = min(ntree_end, catboost_model.tree_count)

    model = catboost_model

    assert len(float_features) >= model.float_feature_count
    assert len(cat_features) >= model.cat_feature_count

    # Binarise features
    binary_features = [0] * model.binary_feature_count
    binary_feature_index = 0

    for i in range(len(model.float_feature_borders)):
        for border in model.float_feature_borders[i]:
            binary_features[binary_feature_index] += 1 if (float_features[model.float_features_index[i]] > border) else 0
        binary_feature_index += 1
    transposed_hash = [0] * model.cat_feature_count
    for i in range(model.cat_feature_count):
        transposed_hash[i] = hash_uint64(cat_features[i])

    if len(model.one_hot_cat_feature_index) > 0:
        cat_feature_packed_indexes = {}
        for i in range(model.cat_feature_count):
            cat_feature_packed_indexes[model.cat_features_index[i]] = i
        for i in range(len(model.one_hot_cat_feature_index)):
            cat_idx = cat_feature_packed_indexes[model.one_hot_cat_feature_index[i]]
            hash = transposed_hash[cat_idx]
            for border_idx in range(len(model.one_hot_hash_values[i])):
                binary_features[binary_feature_index] |= (1 if hash == model.one_hot_hash_values[i][border_idx] else 0) * (border_idx + 1)
            binary_feature_index += 1

    if hasattr(model, 'model_ctrs') and model.model_ctrs.used_model_ctrs_count > 0:
        ctrs = [0.] * model.model_ctrs.used_model_ctrs_count;
        calc_ctrs(model.model_ctrs, binary_features, transposed_hash, ctrs)
        for i in range(len(model.ctr_feature_borders)):
            for border in model.ctr_feature_borders[i]:
                binary_features[binary_feature_index] += 1 if ctrs[i] > border else 0
            binary_feature_index += 1

    # Extract and sum values from trees
    result = 0.
    tree_splits_index = 0
    current_tree_leaf_values_index = 0
    for tree_id in range(ntree_start, ntree_end):
        current_tree_depth = model.tree_depth[tree_id]
        index = 0
        for depth in range(current_tree_depth):
            border_val = model.tree_split_border[tree_splits_index + depth]
            feature_index = model.tree_split_feature_index[tree_splits_index + depth]
            xor_mask = model.tree_split_xor_mask[tree_splits_index + depth]
            index |= ((binary_features[feature_index] ^ xor_mask) >= border_val) << depth
        result += model.leaf_values[current_tree_leaf_values_index + index]
        tree_splits_index += current_tree_depth
        current_tree_leaf_values_index += (1 << current_tree_depth)
    return result



