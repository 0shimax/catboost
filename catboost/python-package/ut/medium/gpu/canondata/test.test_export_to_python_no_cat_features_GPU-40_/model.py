###  Model data
class catboost_model(object):
    float_features_index = [
        0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 20, 21, 22, 23, 24, 26, 31, 32, 33, 34, 35, 36, 37, 38, 39, 46, 47, 48, 49,
    ]
    float_feature_count = 50
    cat_feature_count = 0
    binary_feature_count = 36
    tree_count = 40
    float_feature_borders = [
        [0.0012634799, 0.2225275, 0.34905851, 0.66606998, 0.87244403],
        [0.0381223, 0.042397201, 0.077509999, 0.119478, 0.81598401],
        [0.8374055, 0.90201151, 0.93767154, 0.93885505],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.5],
        [0.85098052],
        [0.38446951, 0.56984252, 0.60392153, 0.63961053, 0.93103147, 0.9399395, 0.98272598, 0.9907015],
        [0.2017045, 0.25469851, 0.387779, 0.59481251],
        [0.103073, 0.119991, 0.121662, 0.155889, 0.27759999, 0.28106749, 0.34176701, 0.34247202, 0.35590351],
        [0.43333352, 0.44117647, 0.45686299, 0.46862751, 0.47254902, 0.49215698, 0.78627449, 0.82156849, 0.96862751],
        [0.5],
        [0.5],
        [0.041666649, 0.097222149, 0.58333349, 0.83333349, 1.5],
        [0.18975851, 0.93881702, 0.93945599, 0.95256799, 0.9569205, 0.96398604],
        [0.5],
        [0.024367001, 0.061012201, 0.095004097, 0.134183, 0.245272, 0.34852701, 0.66665202, 0.76127005, 0.80098999, 0.95107901],
        [0.5],
        [0.64328599, 0.79344249],
        [0.5],
        [-0.26440102, -0.2077325, 0.166824, 0.36179852, 0.3868525],
        [0.5],
        [0.00092654896, 0.0012634799, 0.0086758751, 0.1029625],
        [0.82131898, 0.92046201, 0.97901797],
        [0.0001027135, 0.00038780703, 0.00055952696, 0.0017220699, 0.0029521398, 0.0065780552, 0.015712898],
        [0.40401798, 0.762613],
        [0.566181, 0.75300753, 0.88420546, 0.93785799, 0.94938898, 0.98207599],
        [0.1882775, 0.241321, 0.2598795, 0.27336848, 0.3318105, 0.3445805, 0.34690601, 0.41044152, 0.63198751, 0.64026248, 0.66261351, 0.88528299, 0.91183496],
        [0.5]
    ]
    tree_depth = [6, 5, 4, 6, 3, 6, 6, 6, 6, 6, 4, 3, 3, 6, 6, 6, 4, 6, 6, 6, 6, 3, 6, 6, 4, 6, 4, 6, 6, 6, 5, 6, 4, 3, 6, 6, 5, 6, 6, 6]
    tree_split_border = [11, 2, 1, 5, 3, 4, 3, 2, 3, 1, 3, 4, 1, 5, 1, 6, 8, 5, 1, 6, 1, 11, 2, 5, 2, 3, 5, 1, 1, 1, 3, 1, 1, 3, 6, 3, 2, 2, 1, 5, 3, 1, 1, 5, 4, 5, 7, 8, 1, 3, 1, 1, 2, 5, 1, 4, 1, 1, 3, 4, 5, 10, 1, 4, 1, 5, 1, 1, 1, 1, 2, 3, 7, 1, 1, 9, 4, 2, 1, 1, 1, 1, 2, 6, 1, 9, 1, 1, 12, 1, 1, 4, 1, 1, 4, 7, 5, 5, 13, 1, 3, 3, 1, 10, 11, 1, 1, 5, 5, 8, 1, 2, 1, 9, 2, 1, 1, 1, 1, 1, 1, 2, 7, 1, 2, 6, 4, 3, 1, 1, 2, 1, 6, 4, 5, 1, 1, 3, 1, 1, 6, 6, 2, 7, 1, 1, 3, 2, 2, 1, 8, 1, 3, 1, 7, 5, 9, 2, 1, 4, 6, 1, 3, 4, 4, 8, 8, 1, 5, 6, 6, 1, 5, 1, 1, 1, 3, 9, 1, 2, 6, 3, 4, 4, 1, 7, 5, 5, 2, 1, 1, 1, 6, 1, 5, 5, 1, 1, 5, 1, 1, 5, 1, 5, 2, 2, 4, 2, 5, 6]
    tree_split_feature_index = [34, 21, 2, 20, 14, 34, 20, 23, 30, 28, 15, 23, 35, 20, 23, 34, 23, 20, 18, 17, 10, 34, 32, 16, 33, 31, 21, 10, 13, 16, 2, 24, 18, 34, 21, 16, 33, 15, 22, 20, 33, 2, 24, 27, 31, 17, 14, 17, 7, 0, 26, 10, 0, 20, 24, 20, 19, 6, 23, 1, 20, 34, 19, 21, 1, 33, 20, 18, 3, 12, 23, 30, 31, 10, 11, 17, 0, 29, 8, 11, 10, 13, 1, 17, 19, 16, 32, 29, 34, 31, 9, 16, 11, 12, 17, 34, 20, 1, 34, 5, 1, 21, 27, 23, 34, 19, 4, 14, 20, 14, 20, 33, 22, 34, 20, 25, 0, 34, 12, 24, 22, 17, 16, 9, 34, 31, 21, 27, 11, 19, 1, 12, 17, 33, 20, 24, 3, 20, 17, 33, 16, 23, 25, 17, 22, 6, 29, 16, 31, 10, 17, 2, 17, 11, 16, 20, 17, 1, 12, 2, 33, 22, 2, 14, 29, 16, 34, 12, 20, 34, 17, 5, 31, 18, 22, 24, 2, 23, 28, 27, 14, 34, 17, 15, 30, 23, 20, 34, 14, 15, 18, 11, 31, 12, 23, 20, 11, 21, 31, 10, 22, 20, 14, 0, 2, 30, 27, 21, 14, 17]
    tree_split_xor_mask = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    cat_features_index = []
    one_hot_cat_feature_index = []
    one_hot_hash_values = [
    ]
    ctr_feature_borders = [
    ]

    ## Aggregated array of leaf values for trees. Each tree is represented by a separate line:
    leaf_values = [
        0.0005814876058138907, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001133998390287161, 0, 0.0009975000284612179, 0, 0, 0, 0.0008555554668419063, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001372431288473308, 0.002215142827481031, 0.001875349087640643, 0.002333333250135183, 0, 0, 0.001049999962560833, 0.006780804600566626, 0, 0, 0, 0, 0, 0, 0, 0, 0.002136547351256013, 0.002390978159382939, 0.002491590334102511, 0.003389361780136824, 0, 0, 0.002099999925121665, 0.003947368357330561, 0, 0, 0, 0.002099999925121665, 0, 0, 0, 0,
        0.001135568716563284, 0.001330881263129413, 0, 0, 0.0002743172226473689, 0, 0, 0, 0.001436591031961143, 0.001021189265884459, 0.003254958894103765, 0.003336918773129582, 0.000900790560990572, 0, 0.001032500062137842, 0, 0.002713314490392804, -2.869173840736039e-05, 0, 0, 0, 0, 0, 0, 0.00300825503654778, 0, 0.002350773196667433, 0.000385663821361959, 0, 0, 0, 0,
        0.0008496440714225173, 0, 0.001479863189160824, 0, 0, 0, 0, 0, 0.001317205955274403, 0.001698012463748455, 0.001759843085892498, 0.003660264192149043, 0, 0, 0, 0.001998057821765542,
        0.001020599971525371, 0.002380409510806203, 0, 0.001222893944941461, 0, 0, 0, 0.0004692376533057541, 0.001182092120870948, 0.002501719398424029, 0, 0.004409636836498976, 0, 0.001638475339859724, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000559906242415309, 0.001347555196844041, 0, 0.0009721009409986436, 0, 0.0009942376054823399, 0, 0, 0.0003272806934546679, 0.001032636035233736, 0, 0, 0, 0, 0, 0, 0.000674921611789614, 0.0005466238944791257, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006120857433415949, 0.0008528464240953326, 0, 0, 0, 0, 0, 0,
        0.001504985615611076, 0.002995045622810721, 0, 0.002016705926507711, 0.001037658657878637, 0.005810989066958427, 0, 0,
        0.0001727106428006664, 0, 0.0004793871194124222, 0.001839807722717524, 0, 0, 0, 0.003111714264377952, 0, 0, -0.0001154717465396971, 0, 0, 0, 0, 0, 0, 0, 0.0009929660009220243, 0, 0, 0, 0, 0, 0, 0, -5.587539271800779e-05, 0, 0, 0, 0, 0, 0.0005913976347073913, -5.478449384099804e-05, 0.001839972916059196, 0.003425337839871645, 0.0008748201071284711, 0.005018733907490969, 0.001168016111478209, 0.00428206380456686, 0.0006821581046096981, 0, 0.0007402004557661712, 0.001028567785397172, 0, 0, 0, 0, -5.840745143359527e-05, 0, 7.705247116973624e-05, 0, 0, 0, 0, 0, -3.985492730862461e-05, 0, 0.001526844338513911, 0, 0, 0, 0, 0,
        0.001014503068290651, 0, 0, 0, 0.0008838110370561481, 0, 0, 0, 0.0005434961640276015, 0, 0.001736633479595184, 0.0009025245672091842, 0.0004825765499845147, 0, 0.002448601182550192, 0, 0, 0, 0, 0, -5.816873817821033e-05, 0, 0, 0, 0, 0, 0, 0.0009135581203736365, 0.0009588987450115383, 0, 0.003054751781746745, 0.002487526973709464, 0.0006015280378051102, 0, 0, 0, 0.000734575733076781, 0, 0.0009430523496121168, 0.0009505424532108009, 0.002012974815443158, 0, 0.002350861672312021, 0.003302451455965638, 0.001794374897144735, 0, 0.00247436435893178, 0.00740686384961009, 0, 0, 0, 0, 0.0004837169835809618, 0, 0, 0, 0, 0, 0, 0.0009047805215232074, 0.0004466449026949704, 0, 0.002445284510031343, 0.0008808799320831895,
        0.0005540026468224823, 0, 0, 0, 0.001066728611476719, 0.002493724692612886, 0.002031576354056597, 0.002124294172972441, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.002675556112080812, 0, 0.0007370616076514125, 0, 0, 0, 0, 0, 0.001788692898117006, 0, 0, 0, 0, 0, 0, 0.0007717726402916014, 0.003081174567341805, 0.0003680495719891042, 0.003380768932402134, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.004487451165914536, 0, 0.002145661972463131, 0, 0, 0, 0, 0, 0, 0, 0,
        0.000603672640863806, 0.001026702928356826, 0.001105796080082655, 0.002935528988018632, 0.001672919373959303, 0.00301450933329761, 0.002190666738897562, 0.003292694687843323, 0.0002386537089478225, 0, 0.0005147579940967262, 0.003533515380695462, 0.0009709500591270626, 0.002009881194680929, 0.0009331130422651768, 0.002187259495258331, 0.0002966546744573861, 0, 0.001336887944489717, 0, -9.465285256737843e-05, 0, 0, 0, 1.489925671194214e-05, 0.0009097574511542916, -0.0001249172491952777, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0009545906796120107, 0, 0.000643029750790447, 0, 0.0008804176468402147, 0.0001851158740464598, 0.0003342699201311916, 0.001838528318330646, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0009916862472891808, 0, 0, 0, 0.001353615778498352, 0.001943521900102496, 0, 0, 0.0003631803265307099, 0, 0, 0, 0.000570360105484724, -8.695256110513583e-05, 0, 0, 0.001364427618682384, 0.002726875944063067, 0.0009353143395856023, 0, 0.001909843413159251, 0.0009538052254356444, 0.002156088594347239, 0.002668808912858367, 0.0007964858086779714, 0, 0.000566084694582969, 0, 0.0004353022668510675, 0.0002691382542252541, 0.0007746659102849662, -3.479570659692399e-05, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001699648797512054, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0007451641140505672, 0, 0, 0.0001870466658147052, 0.00106351391877979, 0.0009065419435501099, 0.00110534718260169, 0.001872901455499232, 0.0004718635173048824, 0.001908747246488929, 0, 0.0009043720201589167, 0.001438234816305339, 0.003065245691686869, 0.001701015862636268, 0.002914084820076823,
        0.0007072859443724155, 0.002644588937982917, 0.001643758150748909, 0.002658765763044357, 0, 0.001635750522837043, 0, 0,
        0.0005682474002242088, 0.0007550326990894973, 0.001119006308726966, 0.002092673676088452, -0.000174458182300441, 0.002581833628937602, 0.001450361567549407, 0.003471313742920756,
        -0.0001781207829480991, 0, 0, 0, 0, 0, 0, 0, 0.0006501529132947326, 0, 0, 0, 0.0002774824388325214, 0, 0, 0, 0.000641790044028312, 0.001556653995066881, -0.0002747578837443143, 0.002027148148044944, 0.000949153967667371, 0.001228163833729923, 0, 0.0003271598252467811, 0.0005018155206926167, 0.001253749476745725, 0.005237695761024952, 0.003139990614727139, 0.0004728268249891698, 0.002193844644352794, 0, 0.002523338655009866, -0.0001335996930720285, 0, 0, 0, 0, 0, 0, 0, -0.0001672512880759314, 0, 0, 0, 0, 0, 0, 0, 0.001086007570847869, 0.002157744485884905, 0, 0, 0, 0, 0, 0, 0.001438704319298267, 0.002339457161724567, 0, 0, -0.0001273141970159486, 0.0004920072387903929, 0, 0,
        0.0008387680863961577, 0.002185604302212596, 0.0002014157944358885, 0, 0.002003716770559549, 0.00269438442774117, 0.0004746777703985572, 0.0007931956206448376, 0.0003195238241460174, 0.001361425151117146, 0, 0, 0.0003430663491599262, 0.0006045395275577903, -0.0001065131218638271, 0, 0.0008600384462624788, 0.0007782221655361354, 0, 0, -0.0001721752341836691, 0.00074999057687819, 0, 0, 0.0009509656811133027, 0, 0, 0, 0, 0, 0, 0, 0.001837232965044677, 0, 0, 0, 0, 0, 0, 0, 0.001304906560108066, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0008479878888465464, 0, 0.0009249959257431328, 0.001983031863346696, 0.001191044575534761, 0, 0.002548572141677141, 0.002541105728596449, 0.001184150343760848, 0, 0.0007723854505456984, 0, -7.897306932136416e-05, 0, 0.0007443656213581562, 0, 0.0004400540783535689, 0, -0.0001531018788227811, 0, 0.0002072441566269845, 0, 0.000874995079357177, 0.0004848111711908132, 0.0009438333217985928, 0, 0, 0, 0, 0, 0, 0, 0.0003747554437723011, 0, 0, 0, -0.0001345586497336626, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006701185484416783, 0, 0, 0, 0.0006939118029549718, 0, 0.000330936600221321, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0007552126771770418, 0.0005689630634151399, -7.406019722111523e-05, 0.0002951825445052236, 0.0006958492449484766, 0.001882811426185071, 0.0004021735221613199, 0.0007554989424534142, 0.0006665514083579183, 0.001100339810363948, -9.700006921775639e-05, -0.0001705370377749205, -0.0001819432654883713, 0.0003406904870644212, -0.0002028170274570584, -0.0003531813563313335,
        0.0002228678204119205, 0, 0.0006554918945766985, 0, 0, 0, -0.0003812144277617335, 0, 0.0005199511651881039, 0.0005731190904043615, 0.001858898904174566, 0.001309673069044948, 0, 0, 0.001930021913722157, 0.002362676430493593, 0, 0, 0, 0, 0, 0, 0, 0, 0.0009275500779040158, 0, 0, 0, 0, 0, 0, 0, 1.838362913986202e-05, -0.0001277266565011814, 0.0004129637964069843, 0, 0, 0, 0.005139179062098265, 0, 0.0008071196498349309, 0.001373023958876729, 0.001055495697073638, 0.002748209284618497, 0, 0, 0, 0.004102760460227728, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0005968308541923761, 0.0004988807486370206, 0, 0, 0, 0, 0,
        0.0006408760673366487, 0.00144842907320708, 0.001921161194331944, 0.000928402179852128, 0.0001501156511949375, 0, 0.0002010144380619749, 0, 0.00165682309307158, 0.0005775296594947577, 0.002250892110168934, 0, 0.0008712298003956676, -0.0001050512655638158, 0.0008131701615639031, 0.0007426489028148353, 0, 0, 0, 0, 0, 0, 0, 0, 0.001153266290202737, 0, 0, 0, 0.0007375822169706225, 0, 0, 0, -0.0001810430694604293, 0, 0, 0, 0, 0, 0, 0, 0.0007853989955037832, 0, 0.0001981266104849055, 0, -0.0003023446770384908, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0.0004858264292124659, -0.0003522156039252877, 0.0009743764530867338, 0, 0.001071777078323066, 0.0005945643642917275, 0.001110913115553558, 0.001017861999571323, 0.0003819033154286444, 0, 0.0007984667900018394, 0, 0.001157480757683516, 0, 0.001254031201824546, 0, 0.0008001375827006996, 0.006640499457716942, 0.0010957564227283, 0.001071681501343846, 0.001595092588104308, 0.0003651622100733221, 0.002424658043310046, 0.002373603405430913, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006088936352171004, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0006627236725762486, 0,
        0.0007778412546031177, 0.003461340209469199, 0.0003304076089989394, 0.001794350799173117, 8.315573359141126e-05, 0.0006091374671086669, 0.001017877599224448, 0.002185085555538535, -0.0001877970207715407, 0, -0.0001148828159784898, 0, 0.003150118747726083, 0, 0.0008964795852079988, 0.0005745102535001934, 0, 0, 0, 0, 0, 0.0008238497539423406, 0, 0.001135708065703511, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.0001031803258229047, 0, -9.593871072866023e-05, 0, 0.00101493566762656, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0002832551544997841, 0.0002161885349778458, 0, 0, 0.0008304216898977757, 0.0009276315686292946, 0.002437659539282322, 0.00214702170342207,
        -0.0003111233236268163, 0, 0, 0, 0, 0, 0, 0, 0.0003989062388427556, 0, 0.0002325134264538065, 0, 0.0007340619340538979, 0, 0, 0, 0.0003293176414445043, 0.0004504962416831404, 0.0004502424562815577, 0, 0, 0, 0, 0, 0.0008285100921057165, 0.002144922502338886, 0.0009698196081444621, 0.001855793758295476, 0.001919968519359827, 0.000556394224986434, 0.0006855207029730082, -7.199880201369524e-05, -0.0001422592758899555, 0, 0, 0, 0, 0, 0, 0, 0.0003498859296087176, 0, 0, 0, 0, 0, 0, 0, 0.0008339093183167279, 0, 0, 0, 0, 0, 0, 0, 0.002115518786013126, 0.002099420176818967, 0, 0.0003538135497365147, 0.0008828022982925177, 0.000510357494931668, 0, -0.0001827058003982529,
        0.0005752970464527607, 0, 0.0005623350734822452, 0, 0.0002387659042142332, 0, -6.075590135878883e-05, 0.0007303853053599596, -0.0002841496607288718, 0, 3.599876436055638e-05, 0, -0.0001559467782499269, 0, -0.0001585084100952372, 0, 0, 0, 0, 0, 0, 0, 0.0005785039975307882, 0.0007285564788617194, 0, 0, 0, 0, 0, 0, 0, 0, 0.0005076320376247168, 0, 0.001334487111307681, 0.001920678419992328, 0, 0, 0.0005574066890403628, 0.003170148469507694, 0, 0, 0.00034539689659141, 0, 0, 0, 0.0006518890149891376, 0, 0, 0, 0, 0, 0, 0, 0.0004996750503778458, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0003230117144994438, 0.001212708419188857, 0.0008491103071719408, 0.001841940567828715, 0.0007379220332950354, 0.001459124963730574, 0.002341754268854856, 0.002569434465840459, 0.001515028299763799, 0.0006315085338428617, 0, 0, 0.0002907914167735726, -0.0004139856027904898, 0, 0,
        0.0003451314987614751, 0.0003814700176008046, 0.0003720941313076764, 0.001355047570541501, 0.0004749346117023379, 0.0008545689634047449, -0.0001926719414768741, 0.002614592434838414, -0.0001973370381165296, 0.0001602550037205219, 9.545789362164214e-05, 0.0004008288378827274, 0, 0.0003793494834098965, 0, 0.0004645146836992353, 0.002226309850811958, 0.001916698878630996, 0.0005058327224105597, 0.002230185316875577, 0, 0, 0, 0, 0, 0, 0, 0.002032135846093297, 0, 0, 0, 0, 0, 0, 0.0006908267387188971, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0001853995927376673, 0.0006331719923764467, 0, 0, 0, 0, 0, 0, 0, 0.0006326625589281321, 0, 0, 0, 0,
        0.0002145778998965397, 0, 0.0008961415151134133, 0.001940580201335251, 0.0003913448599632829, 0, 0.001216953969560564, 0.001387899392284453, 0.0001209749971167184, 0, 0.0004012371937278658, 0.002458001486957073, 0, 0, 3.183949593221769e-05, 0.00253757112659514,
        0.0006539052701555192, 0, -0.0002809077268466353, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000688036612700671, 0.001502349739894271, 0.0006209713174030185, 0.005362886004149914, 0, 0.002464096993207932, 0, 0, 0, 0.0006365547305904329, 0, 0, 0.0006274424376897514, 2.901234802266117e-05, 0, 0, 0.0002167546044802293, -0.0001639338006498292, 0.0002551798534113914, 0, 0, 0.001473505049943924, 0, 0, 0, 0.0001123058100347407, 0, 0, 0, 0, 0, 0,
        -0.0001755414414219558, -5.480180698214099e-05, -0.0001900965871755034, -0.0004785903438460082, 4.272771093383199e-06, 0.0003330783220008016, -0.0002841457026079297, 0.002886436879634857, -3.503277912386693e-05, -5.625057383440435e-05, 0.0004334643308538944, 0.001636823988519609, 0.0008969089831225574, 0.001461870735511184, 0.001084088464267552, 0.001952778897248209, 0, 0, 0, 0, 0.0002053172793239355, 0, 0, 0, -0.0001610478793736547, -0.0003981207846663892, 0, 0.0002016289363382384, 0.0002008779410971329, 0.0002618102298583835, 0, 0, 0, 0, 0, 0, -0.0002131653309334069, 0, 0, 0, -0.0001526557462057099, 0.0004897195030935109, 0, 0.001462453743442893, 0.001194652286358178, -0.0004254571394994855, 0, 0, 0, 0, 0, 0, 0.0008773445733822882, 0, 0, 0, 0, -0.0004843806091230363, 0, 0, 0.0005580785218626261, 4.626194277079776e-05, 0, 0,
        0.0009625066886655986, 0.00217683962546289, 0.0003097541048191488, 0.004462738521397114, 0.001440515276044607, 0, 0.0001013860819512047, 0, 4.236444874550216e-05, 0, 0.000146556572872214, 0, 0.0002603424654807895, 0, 0, 0, 0.0008659227751195431, 0, 0.0005781289073638618, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.001979677006602287, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0.0002643314364831895, 0, -0.0003360515693202615, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0002195210545323789, 0.0008744593942537904, 0.001017529400996864, 0.001860906253568828, -0.0004996135248802602, 0.004694115836173296, 0, 0, 0.005951021332293749, 0.001387984841130674, 0, 0, 0, 0.0008963869186118245, 0, 0,
        0.0001548828004160896, 0, 0.000603579799644649, 0.0006138380849733949, 0, 0, -0.0002087653992930427, 0, 0.0001473626762162894, 0, -0.0001446249225409701, 0, 0, 0, 0, 0, 0.0005471102776937187, 0.00595018919557333, 0.001337337307631969, 0.00216792686842382, 0, 0.0004216498346067965, 0.0009775806684046984, 0.001038345973938704, 0.0007900593336671591, 0, 0.000345134554663673, 0, 0, 0, 0, 0, 0.001900378847494721, 0, 0.001656871987506747, 0, 0, 0, 0, 0, -9.935387060977519e-05, 0, 0.000317350699333474, 0, 0, 0, 0, 0, 0.0009349135798402131, 0, 0.001469664624892175, 0, 0, 0, 0, 0, -0.0004602714325301349, 0, 0, 0, 0, 0, 0, 0,
        0.0002501316776033491, 0, 0.001081135822460055, 0, 1.291457465413259e-05, 0, 0.0005456053768284619, 0, 0.001079204375855625, 0, 0.00154851924162358, 0.0008125028107315302, -6.854090315755457e-05, 0, 5.093164145364426e-05, 0.0005599026335403323,
        -0.0003801394777838141, 0, 0.0004216430825181305, 0, 0.0002230947575299069, 0.001190954586490989, 0.0003855116083286703, 0.0009059186559170485,
        0, 0, 0, 0, 0, 0, 0, 0, 6.536155706271529e-05, 0.001025630044750869, 0, 0.0002744254597928375, 0, 0.000562694389373064, 0, 0.000385502731660381, 0.0004244861484039575, 0, 0, 0, 0, 0, 0, 0, 0.0006775183137506247, 0.001292618690058589, 0, 0.006424685474485159, 0, 0.0001760308223310858, 0, 0.001191296265460551, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0001604954450158402, 0, 0, 0, 0, 0, 0, 0, 0.001096743973903358, 0.001030852319672704, 0, 0.0006062461179681122, 0, 0, 0, 0,
        0.0002347607369301841, 0.0008975840755738318, -0.0002369777503190562, 0.0002127232146449387, 0.000392866408219561, 0.002617595251649618, -0.0002273223508382216, 0.002627580892294645, 0.001594322035089135, 0.001214932883158326, 0.0006504806224256754, 0.0005881772958673537, 0, -0.0002926033921539783, 0, -9.650800348026678e-05, 0, 0.002575707156211138, 0, 0, 0, 0, 0, 0, 0, 0.001220601378008723, 0, 0.002623544074594975, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0008254819549620152, 0, 0.0005392143502831459, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9.956245048670098e-05, 0, 0, 0, 0, 0, 0,
        -8.42131266836077e-05, 0.0008321131463162601, 0.00030455258092843, 0.001122097717598081, 0.0007827688823454082, 0.0001404999784426764, 0.0003098534944001585, 0.001602671458385885, -0.0002849472220987082, 0.0005320293712429702, 0.0003279406228102744, 0.0008226652280427516, 0.000190778446267359, 0.000495560874696821, 0.0007085513789206743, 0.001294748275540769, 0, 0, 0.000838687876239419, 0, 0, 0, 0, 0, 0, 0, 0.001276909606531262, -1.559069823997561e-05, 0, -0.0003891349188052118, 0, 0.0005799619248136878,
        3.751545227714814e-05, 0.0001989244046853855, 0.0009934913832694292, 0.00158147921320051, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0008390823495574296, 0, 0.001098685781471431, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0003410237259231508, 0.001104693976230919, 0, 0, 0.001243837992660701, 0.001750593888573349, 0, 0, 0, 0, 0, 0, 0, 0.0009102699696086347, 0, 0, 0.0004873040015809238, -0.0005089856567792594, 0, 0, 0, 0.0005173916579224169, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        -2.57670817518374e-05, 0, 0, 0, 9.098934242501855e-05, 0.0004060939827468246, -0.0002188737853430212, -5.207257345318794e-05, 0, 0, 0, 0, 0, 0, 0, 0, 0.0001245413004653528, 0, -8.772080946073402e-06, 0, 0.0002926115412265062, 0.001005473081022501, 0.0001610885956324637, -2.058545760519337e-06, 0, 0, 0, 0, 0, 0.0004927534027956426, 0, 0, 0, 0, 0, 0, 0.005724216345697641, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0008572289370931685, 0, 0, 0, -0.000314580014673993, 0.001345744472928345, 0, 0, 0, 0, 0, 0, 0, 0.0008378197671845555, 0, 0,
        0.0004311656521167606, 0, -0.0006426270119845867, 0, 0.0007872559363022447, -0.0002664314233697951, 0.00134933227673173, 0, 0.0008184480248019099, 0.0007811426185071468, 0.001185570261441171, 0.001172718591988087, 0.001351701444946229, 0.009232882410287857, 0.0008051294717006385, 0.0008948243339546025, 0.0002713193825911731, 0, 0.0005196254351176322, 0, 0.001243567676283419, 0, 0, 0, 0, 0, -0.0006589835975319147, 0.0004231725470162928, 0.0001614245411474258, 0, 0.0005348101258277893, 0, 0.0001953237078851089, 0, -0.0002941187412943691, 0, -8.702956256456673e-05, 0, 2.71004992100643e-05, 0, -0.0002866133872885257, 0, 0.000451791740488261, 0, 0.0004453231813386083, 0, 0.001100705005228519, 0, -0.0004304087487980723, 0, -5.800228245789185e-05, 0, -0.0003817933902610093, 0, 0, 0, 0.0001828442327678204, 0.0005894936621189117, 0.0009287398424930871, 0, 0.0006938398000784218, 0, 0, 0
    ]
cat_features_hashes = {
}

def hash_uint64(string):
    return cat_features_hashes.get(str(string), 0x7fFFffFF)


### Applicator for the CatBoost model

def apply_catboost_model(float_features, cat_features=[], ntree_start=0, ntree_end=catboost_model.tree_count):
    """
    Applies the model built by CatBoost.

    Parameters
    ----------

    float_features : list of float features

    cat_features : list of categorical features
        You need to pass float and categorical features separately in the same order they appeared in train dataset.
        For example if you had features f1,f2,f3,f4, where f2 and f4 were considered categorical, you need to pass here float_features=f1,f3, cat_features=f2,f4


    Returns
    -------
    prediction : formula value for the model and the features

    """
    if ntree_end == 0:
        ntree_end = catboost_model.tree_count
    else:
        ntree_end = min(ntree_end, catboost_model.tree_count)

    model = catboost_model

    assert len(float_features) >= model.float_feature_count
    assert len(cat_features) >= model.cat_feature_count

    # Binarise features
    binary_features = [0] * model.binary_feature_count
    binary_feature_index = 0

    for i in range(len(model.float_feature_borders)):
        for border in model.float_feature_borders[i]:
            binary_features[binary_feature_index] += 1 if (float_features[model.float_features_index[i]] > border) else 0
        binary_feature_index += 1
    transposed_hash = [0] * model.cat_feature_count
    for i in range(model.cat_feature_count):
        transposed_hash[i] = hash_uint64(cat_features[i])

    if len(model.one_hot_cat_feature_index) > 0:
        cat_feature_packed_indexes = {}
        for i in range(model.cat_feature_count):
            cat_feature_packed_indexes[model.cat_features_index[i]] = i
        for i in range(len(model.one_hot_cat_feature_index)):
            cat_idx = cat_feature_packed_indexes[model.one_hot_cat_feature_index[i]]
            hash = transposed_hash[cat_idx]
            for border_idx in range(len(model.one_hot_hash_values[i])):
                binary_features[binary_feature_index] |= (1 if hash == model.one_hot_hash_values[i][border_idx] else 0) * (border_idx + 1)
            binary_feature_index += 1

    if hasattr(model, 'model_ctrs') and model.model_ctrs.used_model_ctrs_count > 0:
        ctrs = [0.] * model.model_ctrs.used_model_ctrs_count;
        calc_ctrs(model.model_ctrs, binary_features, transposed_hash, ctrs)
        for i in range(len(model.ctr_feature_borders)):
            for border in model.ctr_feature_borders[i]:
                binary_features[binary_feature_index] += 1 if ctrs[i] > border else 0
            binary_feature_index += 1

    # Extract and sum values from trees
    result = 0.
    tree_splits_index = 0
    current_tree_leaf_values_index = 0
    for tree_id in range(ntree_start, ntree_end):
        current_tree_depth = model.tree_depth[tree_id]
        index = 0
        for depth in range(current_tree_depth):
            border_val = model.tree_split_border[tree_splits_index + depth]
            feature_index = model.tree_split_feature_index[tree_splits_index + depth]
            xor_mask = model.tree_split_xor_mask[tree_splits_index + depth]
            index |= ((binary_features[feature_index] ^ xor_mask) >= border_val) << depth
        result += model.leaf_values[current_tree_leaf_values_index + index]
        tree_splits_index += current_tree_depth
        current_tree_leaf_values_index += (1 << current_tree_depth)
    return result



